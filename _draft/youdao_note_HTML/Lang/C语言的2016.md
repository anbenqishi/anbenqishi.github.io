::: {#sidebar}
::: {#outline}
:::
:::

::: {#page-container}
::: {#pf1 .pf .w0 .h0 page-no="1"}
::: {.pc .pc1 .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAgAElEQVR42uzdT2hU597A8Wd8zy5uKkw4QxUSkCLUjMugKRRpsFgC0k0gf+hOUMhMydZNaxZui2RAN91ITegQECHdpbiJkWxnFLIoZCAWDw6kG2eVA+cuBrxeM3nv5eX2ZN7J57Mazhki+eVBvhyeeaaQZVkAAAD6wykjAAAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAOBD0X/ypkLhL5Pi/5Es++S/8nOsfKD//6cCBk8hyzJTAACAPmGLCwAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAAOgv0X/ypkLhL5M6mbLsk//Kz7GE6J/VCAB9rpBlmSkAAECfsMUFAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAeYvy/McKhb9M/H+XZZ8YAgDASVbIsswUAACgT9jiAgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBA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){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y1 .w1 .h2}
::: {.t .m0 .x1 .h3 .y2 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
这是我在2015年初写的草稿，且从未考虑过发布。这是一个未经雕琢的版本，因为没有任何
:::

::: {.t .m0 .x1 .h3 .y3 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
人对这个草稿提供改进。最简单的变化只是将发布时间从2015年改成2016年。
:::

::: {.t .m0 .x1 .h3 .y4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果有缺陷、改进和抱怨，请随时联系。-Matt
:::

::: {.t .m0 .x1 .h3 .y5 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Adrián Arroyo Calle[在]{.fc0}¿Cómo programar en C (en
2016)?[提供了西班牙语翻译。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y6 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Keith
Thompson[在]{.fc0}howto-c-response[提供了一些勘误和替代性意见]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
下面是正文
:::

::: {.t .m0 .x2 .h3 .y8 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
使用C语言的首要规则是，能不用就不用。
:::

::: {.t .m0 .x2 .h3 .y9 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果必须要用C语言，应该遵照现代的规则。
:::

::: {.t .m0 .x1 .h3 .ya .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
自[70年代初]{.fc1}，C语言已经存在。人们在C不同的发展时间点上"学会了C语言"，但是知识一
:::

::: {.t .m0 .x1 .h3 .yb .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
般在学习后就停滞了，因此每个人都有自己对C语言的理解，这些理解基于他们第一次学习
:::

::: {.t .m0 .x1 .h3 .yc .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
的时间。
:::

::: {.t .m0 .x1 .h3 .yd .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
尤其需要注意的是，不要将对C语言开发的知识停滞在"80、90年代学到的知识"。
:::

::: {.t .m0 .x1 .h3 .ye .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
本文假设我们是在一个现代化的平台、符合现代标准，且没有过多的历史遗漏需求。我们不
:::

::: {.t .m0 .x1 .h3 .yf .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
该只是因为一些公司拒绝升级20年前的老系统而仍然依赖古老的标准。
:::

::: {.t .m0 .x1 .h4 .y10 .ff1 .fs1 .fc2 .sc0 .ls0 .ws0}
预检
:::

::: {.t .m0 .x1 .h3 .y11 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
c99标准（c99表示"1999年制定的标准"；c11表示"2011年制定的标准"，因此 11
\>
:::

::: {.t .m0 .x1 .h3 .y12 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
99）
:::

::: {.t .m0 .x3 .h5 .y13 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
clang，默认
:::

::: {.t .m0 .x4 .h6 .y14 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
clang默认使用扩展的c11版本（[GNU C11模式]{.ff3}）；如果需要使
:::

::: {.t .m0 .x5 .h6 .y15 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
用c99标准，使用[-std=c99]{.ff3}。
:::

::: {.t .m0 .x4 .h6 .y16 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
如果需要使用标准c11版本，需要指定[-std=c11]{.ff3}；如果需要使
:::

::: {.t .m0 .x5 .h6 .y17 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
用标准的c99版本，使用[-std=c99]{.ff3}。
:::

::: {.t .m0 .x4 .h6 .y18 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
clang编译源码速度快于gcc
:::

::: {.t .m0 .x3 .h5 .y19 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
gcc，需要用户指定[-std=c99]{.ff3}或[-std=c11]{.ff3}
:::

::: {.t .m0 .x4 .h6 .y1a .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
gcc构建源码文件慢于clang，但是有的时候会生成更快的代
:::

::: {.t .m0 .x5 .h6 .y1b .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
码。性能和回归测试都是非常重要的。
:::

::: {.t .m0 .x4 .h6 .y1c .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
gcc-5默认使用[GNU c11模式]{.ff3}（和clang相同），但是如果需要
:::

::: {.t .m0 .x5 .h6 .y1d .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
标准的c11或者c99标准，仍然需要指定[-std=c11]{.ff3}和[-std=c99]{.ff3}。
:::

::: {.t .m0 .x1 .h3 .y1e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
优化
:::

::: {.t .m0 .x3 .h5 .y1f .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
-O2，-O3
:::

::: {.t .m0 .x4 .h6 .y20 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
通常我们需要使用[-O2]{.ff3}优化级别，但是有的时候我们希望使用[-]{.ff3}
:::

::: {.t .m0 .x5 .h6 .y21 .ff3 .fs2 .fc0 .sc0 .ls0 .ws0}
O3[优化级别。可以在这两种优化级别（和跨编译器）下的测试之]{.ff2}
:::
:::

[](https://github.com/AdrianArroyoCalle){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:706.456910px;width:114.807855px;height:12.006040px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://adrianarroyocalle.github.io/blog/2016/01/10/como-programar-en-c-en-2016/){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:182.816940px;bottom:706.456910px;width:187.594560px;height:12.006040px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://github.com/Keith-S-Thompson){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:685.446290px;width:84.792736px;height:12.006040px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://github.com/Keith-S-Thompson/how-to-c-response/blob/master/README.md){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:152.801819px;bottom:685.446290px;width:96.798781px;height:12.006040px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://www.bell-labs.com/usr/dmr/www/chist.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:68.009079px;bottom:601.403930px;width:48.024200px;height:12.006040px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf2 .pf .w0 .h0 page-no="2"}
::: {.pc .pc2 .w0 .h0}
![](data:image/png;base64,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){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y1 .w1 .h2}
::: {.t .m0 .x5 .h6 .y22 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
后，保留最佳性能的二进制代码。
:::

::: {.t .m0 .x3 .h5 .y23 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
-Os
:::

::: {.t .m0 .x6 .h7 .y24 .ff3 .fs2 .fc0 .sc0 .ls0 .ws0}
-Os优化级别能够帮助提高缓存性能（它应该是）
:::

::: {.t .m0 .x1 .h3 .y25 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
警告
:::

::: {.t .m0 .x7 .h8 .y26 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
-Wall -Wextra -pedantic
:::

::: {.t .m0 .x4 .h6 .y27 .ff2 .fs2 .fc1 .sc0 .ls0 .ws0}
新版本编译器提供了[-Wpedantic]{.ff3}开关，但是为了向下兼容，它
:::

::: {.t .m0 .x5 .h6 .y28 .ff2 .fs2 .fc1 .sc0 .ls0 .ws0}
们仍然支持古老的[-pedantic]{.ff3}开关。
:::

::: {.t .m0 .x3 .h5 .y29 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
在测试工程中，应该在全平台中添加[-Werror]{.ff3}和[-Wshadow]{.ff3}开关
:::

::: {.t .m0 .x4 .h6 .y2a .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
在部署产品源码时，使用-Werror开关可能会非常棘手，因为
:::

::: {.t .m0 .x5 .h6 .y2b .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
不同的平台和编译器可能会发出不同的警告信息。我们可能不希望
:::

::: {.t .m0 .x5 .h6 .y2c .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
因为平台上的GCC版本有从未看见过的警告而中止用户的整个构
:::

::: {.t .m0 .x5 .h6 .y2d .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
建。
:::

::: {.t .m0 .x3 .h5 .y2e .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
其他花哨的选项[-Wstrict-overflow -fno-strict-aliasing]{.ff3}
:::

::: {.t .m0 .x4 .h6 .y2f .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
要么通过[-fno-strict-aliasing]{.ff3}开关或者确保只使用对象创建
:::

::: {.t .m0 .x5 .h6 .y30 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
时的类型来访问对象。由于大量已经存在的C代码使用了跨类型别
:::

::: {.t .m0 .x5 .h6 .y31 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
名，如果我们无法控制源码树，使用[-fno-strict-aliasing]{.ff3}开关会
:::

::: {.t .m0 .x5 .h6 .y32 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
更加安全。
:::

::: {.t .m0 .x3 .h5 .y33 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
截至目前，clang会将一些有效语法作为警告，因此我们应该增加[-Wno-missing-]{.ff3}
:::

::: {.t .m0 .x8 .h5 .y34 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
field-initializers[开关]{.ff2}
:::

::: {.t .m0 .x4 .h6 .y35 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
GCC在4.7.0版本后修复了这个无效的警告
:::

::: {.t .m0 .x1 .h3 .y36 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
构建
:::

::: {.t .m0 .x3 .h5 .y37 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
编译单元
:::

::: {.t .m0 .x4 .h6 .y38 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
构建C项目的通常步骤是分解每个源文件到目标文件，然后将
:::

::: {.t .m0 .x5 .h6 .y39 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
所有目标文件链接到一起。这个步骤对增量开发的非常有效，但这
:::

::: {.t .m0 .x5 .h6 .y3a .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
对性能和优化是次优的。这种方式下编译器无法检测跨文件边界的
:::

::: {.t .m0 .x5 .h6 .y3b .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
潜在优化。
:::

::: {.t .m0 .x3 .h5 .y3c .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
LTO-链接时优化
:::

::: {.t .m0 .x4 .h6 .y3d .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
LTO修复了"源码分析和优化无法跨编译单元的问题"，它通
:::

::: {.t .m0 .x5 .h6 .y3e .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
过在目标文件中增加中间标记的方式，使得源码感知的优化能够在
:::

::: {.t .m0 .x5 .h6 .y3f .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
链接时进行跨编译单元执行。（该过程会显著降低链接速度，但是
:::

::: {.t .m0 .x5 .h6 .y40 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
能够通过[make -j]{.ff3}来改善）
:::
:::

[](https://twitter.com/oliviergay/status/685389448142565376){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:158.804840px;bottom:657.682310px;width:83.291980px;height:18.759460px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf3 .pf .w0 .h0 page-no="3"}
::: {.pc .pc3 .w0 .h0}
![](data:image/png;base64,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ACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAA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){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y41 .w1 .h9}
::: {.t .m0 .x4 .h6 .y42 .ff2 .fs2 .fc1 .sc0 .ls0 .ws0}
clangLTO指南
:::

::: {.t .m0 .x4 .h6 .y43 .ff2 .fs2 .fc1 .sc0 .ls0 .ws0}
gccLTO
:::

::: {.t .m0 .x4 .h6 .y44 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
截至2016年，clang和gcc都支持在目标文件编译和最终应用
:::

::: {.t .m0 .x5 .h6 .y45 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
链接阶段，在命令行参数中增加[-flto]{.ff3}开关开启LTO。
:::

::: {.t .m0 .x6 .h7 .y46 .ff3 .fs2 .fc0 .sc0 .ls0 .ws0}
LTO的使用需要一些注意事项。有的时候，如果项目代码不是直
:::

::: {.t .m0 .x5 .h7 .y47 .ff3 .fs2 .fc0 .sc0 .ls0 .ws0}
接使用而是作为库使用，LTO会在最终链接结果中移除一些函数和代
:::

::: {.t .m0 .x5 .h7 .y48 .ff3 .fs2 .fc0 .sc0 .ls0 .ws0}
码，因为LTO会在链接时全局检测未使用/不可达或者不需要的代
:::

::: {.t .m0 .x5 .h7 .y49 .ff3 .fs2 .fc0 .sc0 .ls0 .ws0}
码。
:::

::: {.t .m0 .x1 .h3 .y4a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
架构
:::

::: {.t .m0 .x7 .h8 .y4b .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
-march=native
:::

::: {.t .m0 .x4 .h6 .y4c .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
授权编译器使用CPU的所有特性指令集
:::

::: {.t .m0 .x4 .h6 .y4d .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
同样，性能测试和回归测试（比较跨编译器或者编译器版本）
:::

::: {.t .m0 .x5 .h6 .y4e .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
非常重要，以确保启动了优化之后没有副作用。
:::

::: {.t .m0 .x7 .h8 .y4f .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
-msse2和-msse4.2对于需要使用非构建机器构建目标文件可能会有用。
:::

::: {.t .m0 .x1 .h4 .y50 .ff1 .fs1 .fc2 .sc0 .ls0 .ws0}
编写代码
:::

::: {.t .m0 .x1 .ha .y51 .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
类型
:::

::: {.t .m0 .x1 .h3 .y52 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果我们在新代码中还在使用[char]{.ff3}、[int]{.ff3}、[short]{.ff3}、[long]{.ff3}或者[unsigned]{.ff3}类型，那我们可能做错
:::

::: {.t .m0 .x1 .h3 .y53 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
了。
:::

::: {.t .m0 .x1 .h3 .y54 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对于现代程序，我们应该引入[\#include ]{.ff3}，然后使用标准类型。
:::

::: {.t .m0 .x1 .h3 .y55 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
更多细节，参见[stdint.h规范]{.fc1}。
:::

::: {.t .m0 .x1 .h3 .y56 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
常见的标准类型：
:::

::: {.t .m0 .x7 .h8 .y57 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
int8\_t、int16\_t、int32\_t、int64\_t------有符号整数
:::

::: {.t .m0 .x7 .h8 .y58 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
uint8\_t、uint16\_t、uint32\_t、uint64\_t------无符号整数
:::

::: {.t .m0 .x7 .h8 .y59 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
float------标准32位浮点数
:::

::: {.t .m0 .x7 .h8 .y5a .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
double------标准64位浮点数
:::

::: {.t .m0 .x1 .h3 .y5b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
注意，我们不再有[char]{.ff3}类型。[char]{.ff3}类型在C语言中实际上是名不符实且滥用的。
:::

::: {.t .m0 .x1 .h3 .y5c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
开发者经常滥用[char]{.ff3}来表示"字节"，甚至当他们是在操作无符号字节类型的时候。因此，
:::

::: {.t .m0 .x1 .h3 .y5d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
使用[uint8\_t]{.ff3}类型来表示无符号字节（八位组值），使用[uint8\_t
\*]{.ff3}类型来表示无符号字节序
:::

::: {.t .m0 .x1 .h3 .y5e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
列（八位组值）会更加清晰。
:::

::: {.t .m0 .x1 .hb .y5f .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
特殊标准类型
:::

::: {.t .m0 .x1 .h3 .y60 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
除了像[uint16\_t]{.ff3}和[int32\_t]{.ff3}这样标准的固定宽度类型之外，标准还在[stdint.h规范]{.fc1}中定义了
:::

::: {.t .m0 .x1 .h3 .y61 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
快速类型和最小类型
:::
:::

[](http://llvm.org/docs/LinkTimeOptimization.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:158.804840px;bottom:770.239010px;width:66.783660px;height:18.759530px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://llvm.org/docs/GoldPlugin.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:225.588500px;bottom:770.239010px;width:27.763990px;height:18.759530px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://gcc.gnu.org/onlinedocs/gccint/LTO-Overview.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:158.804840px;bottom:745.476560px;width:53.276860px;height:18.759400px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/stdint.h.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:140.795761px;bottom:325.264770px;width:72.036299px;height:12.006100px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/stdint.h.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:412.432680px;bottom:88.145264px;width:72.786680px;height:12.006103px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf4 .pf .w0 .h0 page-no="4"}
::: {.pc .pc4 .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAbeklEQVR42uzcMW4iSRSAYWpEBokDJDhEd+rAKRzAiW9AQALyEXBuIblDTgAJWTtwZMmcgEsgHDihI5Bqg5F2PHLPyruzovH094XPTii94FepVSHG2AAAAM7DN0cAAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAv2LK4oiz/PBYBBCGAwGeZ4XRWEbAACoXIgx1rDO2+32x/lut+t0OnYCAIAK1fEG/fn5uXS+WCwsBAAAAv3UZrNZ6Xw+n1sIAACqVcdPXEIIv/rTfr9vtVrWAgCAqtTxBr3f75fO0zRV5wAACPRTu729LZ0Ph0MLAQBAtbzi8oNXXAAAqFwdb9BbrdZut8uyLE3TRqORpmmWZeocAIBzUMcb9PeKovDdOQAAAh0AACjxzREAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINC/jKIo8jwfDAYhhMFgkOd5URS2AQCAyoUYYw3rvN1uf5zvdrtOp2MnAACoUB1v0J+fn0vni8XCQgAAINBPbTablc7n87mFAACgWnX8xCWE8Ks/7ff7VqtlLQAAqEodb9D7/X7pPE1TdQ4AgEA/tdvb29L5cDi0EAAAVMsrLj94xQUAgMrV8Qa91Wrtdrssy9I0bTQaaZpmWabOAQA4B3W8QX+vKArfnQMAINABAIAS3xwBAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAB8fU1HAADA+Qjh7Y/8XTFefPYEYoz2AAAAzoRPXAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAMB5aX7mn0J4c1LAfxDjhUMAgH8lxBidAgAAnAmfuAAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAC3REAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBA/33H43G9Xk8mkzzPi6KwCgAAnIMQY6zhz55MJg8PD+8n/X7/8fGx2WzaCQAABPpJbTabNE0/zl9eXq6uruwEAAAVquMnLqvVqnS+XC4tBAAA1arjDXqv19tut6V/OhwOvnIBAKBCXnEBAACBXqnRaFQ6H4/Hrs8BABDop3Z9fV06v7m5sRAAAAj0U0uSJMuy9w+5dLvd6XR6eXlpIQAAqFZN30H/7vX19enpKUmSJEmsAgAAAh0AAPiJV1wAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOhfyvF4XK/Xd3d36/X6eDxaBQAAzkGIMdbwZ08mk4eHh/eT8Xh8f3/fbDbtBAAAAv2kNptNmqYf5y8vL1dXV3YCAIAK1fETl9VqVTpfLpcWAgCAatXxBr3X622329I/HQ4HX7kAAFAhr7gAAIBAr9RoNCqdj8dj1+cAAAj0U7u+vi6d39zcWAgAAAT6qSVJMp1Ou93u35NutzudTi8vLy0EAADVquk76N9tNpvNZpMkSZIkVgEAAIEOAAD8xCsuAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEB3BAAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAgH/Q/Mw/hfDmpH5fjBd/5O+yHlYIAPgfuUEHAIAzEmKMTgEAAM6EG3QAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHYC/2q1jAQAAAABh/tYJhLAhdAUABh0AADDoAABg0AEAAIMOAAAGHQAAMOgAAGDQAQAAgw4AAAYdAAAw6AAAYNABAACDDgAABh0AADDoAACAQQcAAIMOAAAYdAAAMOgAAIBBBwAAgw4AABh0AAAw6AAAgEEHAACDDgAAGHQAADDoAACAQQcAAAw6AAAYdAAAwKADAIBBBwAADDoAABh0AADAoAMAgEEHAAAMOgAAGHQAAMCgAwCAQQcAAAw6AABg0AEAwKADAAAGHQAADDoAAGDQAQDAoAMAAAYdAAAMOgAAYNABAMCgAwAABh0AAAw6AABg0AEAAIMOAAAGHQAAMOgAAGDQAQAAgw4AAAYdAAAw6AAAYNABAACDDgAABh0AADDoAABg0AEAAIMOAAAYdAAAMOgAAIBBBwAAgw4AABh0AAAw6AAAgEEHAACDDgAAGHQAADDoAACAQQcAAIMOAAAYdAAAwKADAIBBBwAADDoAABh0AADAoAMAgEEHAAAMOgAAGHQAAMCgAwCAQQcAAAw6AAAYdAkAAMCgAwAABh0AAAw6AABg0AEAwKADAAAGHQAADDoAAGDQAQDAoAMAAAYdAAAMOgAAYNABAACDDgAABh0AADgB+wYpe/HkE0EAAAAASUVORK5CYII=){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y62 .w1 .hc}
::: {.t .m0 .x1 .h3 .y63 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
快速类型有：
:::

::: {.t .m0 .x3 .h5 .y64 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
有符号整数：[int\_fast8\_t]{.ff3}、[int\_fast16\_t]{.ff3}、[int\_fast32\_t]{.ff3}、[int\_fast64\_t]{.ff3}
:::

::: {.t .m0 .x3 .h5 .y65 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
无符号整数：[uint\_fast8\_t]{.ff3}、[uint\_fast16\_t]{.ff3}、[uint\_fast32\_t]{.ff3}、[uint\_fast64\_t]{.ff3}
:::

::: {.t .m0 .x1 .h3 .y66 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
快速类型提供了最小[X]{.ff3}位，但是它实际存储大小是不确定的。如果在目标平台上更大的类型
:::

::: {.t .m0 .x1 .h3 .y67 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
有更好的性能，快速类型将自动使用这个较大的类型。
:::

::: {.t .m0 .x1 .h3 .y68 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
例如在一些64位系统中，当我们在使用[uint\_fast16\_t]{.ff3}类型时，实际上会使用[uint64\_t]{.ff3}类
:::

::: {.t .m0 .x1 .h3 .y69 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
型，因为处理和字宽相同的整数速度会比处理16位整数快很多。
:::

::: {.t .m0 .x1 .h3 .y6a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
不过，不是每个系统都遵照快速类型指引。其中一个就是OS
X系统，其快速类型宽度[和它们]{.fc1}
:::

::: {.t .m0 .x1 .h3 .y6b .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
对应的固定宽度类型宽度完全相同[。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y6c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
快速类型对于编写自描述代码也非常有用。如果我们的计数器只需要16位，但是因为平台计
:::

::: {.t .m0 .x1 .h3 .y6d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
算64位整数速度会更快，我们更希望直接使用64位整数进行运算，这时[uint\_fast16\_t]{.ff3}类型
:::

::: {.t .m0 .x1 .h3 .y6e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
就非常有用。在64位Linux平台上，[uint\_fast16\_t]{.ff3}类型实际使用64位计数器，而从代码层面
:::

::: {.t .m0 .x1 .h3 .y6f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
来看，"这里只需要一个16位的变量"。
:::

::: {.t .m0 .x1 .h3 .y70 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
使用快速类型时，有一点需要注意：它可能会影响测试用例。如果用例需要测试变量的存储
:::

::: {.t .m0 .x1 .h3 .y71 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
位宽，使用[uint\_fast16\_t]{.ff3}类型，在一些平台上可能是16位（如OS
X）而在另一些平台上是
:::

::: {.t .m0 .x1 .h3 .y72 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
64位（如Linux），这时可能会导致测试用例失败。
:::

::: {.t .m0 .x1 .h3 .y73 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
快速类型和[int]{.ff3}类型一样，在不同平台上有不确定的长度，但是使用快速类型，可以将这些
:::

::: {.t .m0 .x1 .h3 .y74 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
不确定长度限制在代码中的安全位置（如计数器、有边界检测的临时变量等）。
:::

::: {.t .m0 .x1 .h3 .y75 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
最小类型有：
:::

::: {.t .m0 .x3 .h5 .y76 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
有符号整数：[int\_least8\_t]{.ff3}、[int\_least16\_t]{.ff3}、[int\_least32\_t]{.ff3}、[int\_least64\_t]{.ff3}
:::

::: {.t .m0 .x3 .h5 .y77 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
无符号整数：[uint\_least8\_t]{.ff3}、[uint\_least16\_t]{.ff3}、[uint\_least32\_t]{.ff3}、
:::

::: {.t .m0 .x8 .h8 .y78 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
uint\_least64\_t
:::

::: {.t .m0 .x1 .h3 .y79 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
最小类型提供满足对应类型最紧凑的字节数。
:::

::: {.t .m0 .x1 .h3 .y7a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在实践中，最小类型规范通常是定义的标准固定宽度类型，因为标准固定宽度类型已经提供
:::

::: {.t .m0 .x1 .h3 .y7b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
了对应类型需要的最小字节数。
:::

::: {.t .m0 .x1 .hb .y7c .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
是否使用[int]{.ff3}类型
:::

::: {.t .m0 .x1 .h3 .y7d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
一些读者指出他们对[int]{.ff3}类型是真爱，至死方休。我想指出，如果使用长度不可控的变量类
:::

::: {.t .m0 .x1 .h3 .y7e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
型，技术上不可能正确的开发应用。
:::

::: {.t .m0 .x1 .h3 .y7f .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
RATIONALE[提供了]{.fc0}inttypes.h[头文件，就为了解决使用非固定位宽类型不安全问题。如果开]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y80 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
发者能够理解[int]{.ff3}类型在一些平台上是16位，在另一些平台上是32位，同时在代码中任何使
:::

::: {.t .m0 .x1 .h3 .y81 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
用[int]{.ff3}类型的地方都对16位和32位两种位宽边界进行了测试，那么请放心使用[int]{.ff3}类型。
:::

::: {.t .m0 .x1 .h3 .y82 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对于其他无法在写代码的时候记得多层次决策树平台规范结构的人来说，我们可以使用固定
:::

::: {.t .m0 .x1 .h3 .y83 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
宽度类型，这能够在写出更加正确代码的同时，减少概念上的困扰和测试成本。
:::

::: {.t .m0 .x1 .h3 .y84 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
或者，规范中更简明的说到："ISO
C标准整数提升规则可能会意外产生未知的变化"。
:::

::: {.t .m0 .x1 .h3 .y85 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
祝你好运。
:::
:::

[](https://opensource.apple.com/source/xnu/xnu-1456.1.26/EXTERNAL_HEADERS/stdint.h){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:607.406740px;width:483.243555px;height:33.016840px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/inttypes.h.html#tag_13_19_06){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:181.192140px;width:54.027233px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/inttypes.h.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:146.798798px;bottom:181.192140px;width:60.030242px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf5 .pf .w0 .h0 page-no="5"}
::: {.pc .pc5 .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAY60lEQVR42uzaMQ0AIBRDQT7BAP5FIqE4YGIg5E5Cpze0kjQAAOAN3QQAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAS6CQAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQTAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6CYAAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAA+MMwAQAAZ1XLCAfJvLl2EpsCAMAjXFwAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgW4CAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAC3QQAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHR2u3UsAAAAADDI33oaO4oiAAAQdAAAEHQAAEDQAQBA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAEHQAAEDQAQAAQQcAAEEHAAAEHQAABB0AABB0AAAQdAAAQNABAEDQAQAAQQcAAEEHAAAEHQAABB0AABB0AABA0AEAQNABAABBBwAAQQcAAAQdAAAEHQAAEHQAABB0AABA0AEAQNABAABBBwAAQQcAAAQdAAAQdAAAEHQAAEDQAQBA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAEHQAAEDQAQBA0AEAAEEHAAAEHQAABB0AABB0AAAQdAAAQNABAEDQAQAAQQcAAEEHAAAEHQAABB0AABB0AAAQdAAAQNABAABBBwCArQCOXhSRIlRyHQAAAABJRU5ErkJggg==){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y41 .w1 .h9}
::: {.t .m0 .x1 .hb .y86 .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
使用[char]{.ff3}类型的特殊场景
:::

::: {.t .m0 .x1 .h3 .y87 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在2016年，唯一能够使用[char]{.ff3}类型的场景是已经存在的API需要[char]{.ff3}类型（例如[strncat]{.ff3}、
:::

::: {.t .m0 .x1 .h3 .y88 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
printf函数中的"%s"占位符等）或者在初始化只读字符串（例如[const char
\*hello = ]{.ff3}
:::

::: {.t .m0 .x1 .h3 .y89 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
\"hello\";[），因为字符串（]{.ff1}\"hello\"[）的C类型是]{.ff1}char
\[\][。]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y8a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
另外：在C11中增加了本地unicode支持，对于像[const char \*abcgrr =
u8\"abc\";]{.ff3}多字节
:::

::: {.t .m0 .x1 .h3 .y8b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
UTF-8字符串
:::

::: {.t .m0 .x1 .h3 .y8c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
类型仍然是[char \[\]]{.ff3}。
:::

::: {.t .m0 .x1 .hb .y8d .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
使用[int]{.ff3}、[long]{.ff3}等类型的特殊场景
:::

::: {.t .m0 .x1 .h3 .y8e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果函数使用这些类型作为其返回值或者参数，请使用函数原型或者API文档中说明的类
:::

::: {.t .m0 .x1 .h3 .y8f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
型。
:::

::: {.t .m0 .x1 .hb .y90 .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
符号类型
:::

::: {.t .m0 .x1 .h3 .y91 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在任何时候，都不应该在代码中输入[unsigned]{.ff3}字符。现在我们可以避免在代码中使用c语言
:::

::: {.t .m0 .x1 .h3 .y92 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
中丑陋的多词组合类型，它既影响可读性，也影响使用。当能够输入[uint64\_t]{.ff3}的时候，谁还
:::

::: {.t .m0 .x1 .h3 .y93 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
希望输入[unsigned long long
int]{.ff3}。头文件中定义的类型更加明确，含义更加确切，传达的
:::

::: {.t .m0 .x1 .h3 .y94 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
意图更好，使得排版的使用和可读性更加紧凑。
:::

::: {.t .m0 .x1 .h3 .y95 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
但是，你可能会说："我需要在进行指针运算的时候将指针类型转换成[long]{.ff3}类型。"
:::

::: {.t .m0 .x1 .h3 .y96 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
你可以这样说，但是这是错误的。
:::

::: {.t .m0 .x1 .h3 .y97 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对于指针运算的正确方式是使用头文件中定义的[uintptr\_t]{.ff3}类型，同时也可以使用[stddef.h]{.fc1}
:::

::: {.t .m0 .x1 .h3 .y98 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
头文件中定义的[ptrdiff\_t]{.ff3}类型。
:::

::: {.t .m0 .x1 .h3 .y99 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
不要使用：
:::

::: {.t .m0 .x1 .h3 .y9a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
long diff = (long)ptrOld - (long)ptrNew;
:::

::: {.t .m0 .x1 .h3 .y9b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而使用：
:::

::: {.t .m0 .x1 .h3 .y9c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
ptrdiff\_t diff = (uintptr\_t)ptrOld - (uintptr\_t)ptrNew;
:::

::: {.t .m0 .x1 .h3 .y9d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
同时，如果需要输出内容：
:::

::: {.t .m0 .x1 .h3 .y9e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
printf(\"%p is unaligned by %\" PRIuPTR \" bytes.\\n\", (void \*)p,
:::

::: {.t .m0 .x1 .h3 .y9f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
((uintptr\_t)somePtr & (sizeof(void \*) - 1)));
:::

::: {.t .m0 .x1 .hb .ya0 .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
系统相关类型
:::

::: {.t .m0 .x1 .h3 .ya1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果继续争论，"在32位平台上我需要32位long类型，而在64位平台上我需要64位long类
:::

::: {.t .m0 .x1 .h3 .ya2 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
型"。
:::

::: {.t .m0 .x1 .h3 .ya3 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果我们跳出思维定势，不是为了在不同平台上使用两种不同大小的类型而在代码中故意引
:::

::: {.t .m0 .x1 .h3 .ya4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
入难题，我们仍然不会为了系统相关类型而试图使用[long]{.ff3}类型。
:::

::: {.t .m0 .x1 .h3 .ya5 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在这种情况下，我们应该使用[intptr\_t]{.ff3}类型------定义了当前平台上字长的整数。
:::

::: {.t .m0 .x1 .h3 .ya6 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在32位平台上，[intptr\_t]{.ff3}是[int32\_t]{.ff3}类型。
:::

::: {.t .m0 .x1 .h3 .ya7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在64位平台上，[intptr\_t]{.ff3}是[int64\_t]{.ff3}类型。
:::
:::

[](http://pubs.opengroup.org/onlinepubs/7908799/xsh/stddef.h.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:485.219360px;bottom:400.302490px;width:48.024170px;height:12.006100px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf6 .pf .w0 .h0 page-no="6"}
::: {.pc .pc6 .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAafElEQVR42uzcIY7qUBSAYfoyG5iQWQAOw+0qWEBV14DqZpp0A5hicHgEAgndAP6KUbgmdywDL+89M1Pm9fvkcZyckD8NJUspTQAAgOfwywoAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0KwAAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINCtAAAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAD+3YsVAPAVsuzdEv4gpVdLAH7//ZlSsgUAAHgSfuICAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQrAAAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0K0AAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AAPhuL1YAwFfIsndL+AYpvVoC/Gc8QQcAgCeSpZRsAQAAnoQn6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAI9L+LMdZ1nef5crnc7XbX69UpAADwDLKU0tg+c9d1IYTbSQjhdDq5BgAABjfGJ+jb7fZucj6fY4yuAQAAgT6Apmkeh23bugYAAAQ6AAAw7kBfrVaPw7IsXQMAAIMb40uil8tlNpvdTrwkCgCAQB9S3/fH43Gz2Uyn06IoFouFUwAAQKADAACfeEkUAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOg/W4yxrus8z6uqOhwOfd87BQAAnkGWUhrbZ+66LoRwOwkhnE4n1wAAwODG+AR9u93eTc7nc4zRNQAAINAH0DTN47BtW9cAAIBABwAAxh3oq9XqcViWpWsAAECgD6AoirtJCOHt7c01AAAwuDH+i8tkMrler/v9fr1ez+fzoigWi4VTAABAoAMAAJ94SRQAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6D9bjLGu6zzPq6r6aOeObSCCwzAOuyHsoPHt8q/MYCILaFRmUBgAY6h1EtfeMYDLeZ7y6yRv8YuEcRz3fTcFAAB+wes4jqc987IsEfF5iYhpmqwBAIDbPfENet/3p8s8z+u6WgMAAAL9Bk3TXI9d11kDAAACHQAAeHag13V9PVZVZQ0AAAj0G6SUTpeIyPPcGgAAuN0T/+KSZdm2bcMwtG1bFEVKqSxLUwAAQKADAABffCQKAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAgH/3BmK8uLl/wERWAAAAAElFTkSuQmCC){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y41 .w1 .h9}
::: {.t .m0 .x1 .h3 .ya8 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
同时，[intptr\_t]{.ff3}还有对应的无符号类型[uintptr\_t]{.ff3}。
:::

::: {.t .m0 .x1 .h3 .ya9 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对于指针偏移量，我们有一个更加恰当的类型：[ptrdiff\_t]{.ff3}，它是存储指针差值的正确类
:::

::: {.t .m0 .x1 .h3 .yaa .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
型。
:::

::: {.t .m0 .x1 .hb .yab .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
最大值持有者
:::

::: {.t .m0 .x1 .h3 .yac .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
我们需要一个整数类型，能够持有系统中任何整数吗？
:::

::: {.t .m0 .x1 .h3 .yad .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在这种情况下，人们倾向于使用已知类型中最大的类型，例如将较小的无符号类型转换成64
:::

::: {.t .m0 .x1 .h3 .yae .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
位无符号类型[uint64\_t]{.ff3}，但是，还有技术上更正确的方式来确保一个值可以持有任何其他
:::

::: {.t .m0 .x1 .h3 .yaf .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
值。
:::

::: {.t .m0 .x1 .h3 .yb0 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对于任何整数最安全的容器是[intmax\_t]{.ff3}类型（还有[uintmax\_t]{.ff3}）。我们可以在不损失精度的
:::

::: {.t .m0 .x1 .h3 .yb1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
情况下，将任意有符号整数赋值或转换成[intmax\_t]{.ff3}类型，同样，也可以在不损失精度的情况
:::

::: {.t .m0 .x1 .h3 .yb2 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
系，将任意无符号整数赋值或转换成[uintmax\_t]{.ff3}类型。
:::

::: {.t .m0 .x1 .hb .yb3 .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
其他类型
:::

::: {.t .m0 .x1 .h3 .yb4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
系统相关类型中，使用最广的类型是[size\_t]{.ff3}，它由[stddef.h]{.fc1}头文件提供。
:::

::: {.t .m0 .x1 .h3 .yb5 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
size\_t[表示"能够持有最大数组索引的整数"，同时它也表示应用程序中变量持有最大内存]{.ff1}
:::

::: {.t .m0 .x1 .h3 .yb6 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
偏移量的能力。
:::

::: {.t .m0 .x1 .h3 .yb7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在实际使用中，[size\_t]{.ff3}类型是[sizeof]{.ff3}操作符的返回类型。
:::

::: {.t .m0 .x1 .h3 .yb8 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在任一情况下：[size\_t]{.ff3}类型在所有现代平台上事实上定义为[uintptr\_t]{.ff3}类型，即在32位平台
:::

::: {.t .m0 .x1 .h3 .yb9 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
上，[size\_t]{.ff3}类型是[uint32\_t]{.ff3}，而在64位平台上[size\_t]{.ff3}类型是[uint64\_t]{.ff3}。
:::

::: {.t .m0 .x1 .h3 .yba .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
除此以外还有[ssize\_t]{.ff3}类型，它用来表示有符号好的[size\_t]{.ff3}类型，用于库函数的返回值。这
:::

::: {.t .m0 .x1 .h3 .ybb .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
些函数通常会在出错时返回[-1]{.ff3}。（注意：[ssize\_t]{.ff3}是POSIX规范中定义，因此不适用于
:::

::: {.t .m0 .x1 .h3 .ybc .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Windows平台接口。）
:::

::: {.t .m0 .x1 .h3 .ybd .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
综上所述，我们应该在自己的函数参数中使用[size\_t]{.ff3}类型表示任何变量长度和系统相关的类
:::

::: {.t .m0 .x1 .h3 .ybe .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
型吗？从技术上来说，[size\_t]{.ff3}
类型是[sizeof]{.ff3}操作符的返回值，因此任何接受代表字节数量
:::

::: {.t .m0 .x1 .h3 .ybf .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
参数的函数，都可以使用[size\_t]{.ff3}类型。
:::

::: {.t .m0 .x1 .h3 .yc0 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
size\_t[类型的其他使用包括：]{.ff1}size\_t[类型作为malloc函数的参数；]{.ff1}ssize\_t[类型作为]{.ff1}read()
:::

::: {.t .m0 .x1 .h3 .yc1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
和[write()]{.ff3}函数的返回值（除了Windows平台，[ssize\_t]{.ff3}不存在，这两个函数的返回值是[int]{.ff3}类
:::

::: {.t .m0 .x1 .h3 .yc2 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
型）。
:::

::: {.t .m0 .x1 .hb .yc3 .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
打印类型
:::

::: {.t .m0 .x1 .h3 .yc4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在打印时，我们不应该进行类型转换，而应该使用[inttypes.h]{.fc1}头文件中定义的描述符。
:::

::: {.t .m0 .x1 .h3 .yc5 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
这些描述符包括但不限于：
:::

::: {.t .m0 .x7 .h8 .yc6 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
size\_t：%zu
:::

::: {.t .m0 .x7 .h8 .yc7 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
ssize\_t：%zd
:::

::: {.t .m0 .x7 .h8 .yc8 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
ptrdiff\_t：%td
:::
:::

[](http://pubs.opengroup.org/onlinepubs/7908799/xsh/stddef.h.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:321.636900px;bottom:511.358400px;width:48.774600px;height:12.006100px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/inttypes.h.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:321.636900px;bottom:169.186040px;width:60.780640px;height:12.005850px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf7 .pf .w0 .h0 page-no="7"}
::: {.pc .pc7 .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAekUlEQVR42uzcP2gbdxvA8VNedZKHkHJTW9yWDqag81hoO56G/oEgaG3cLbQavMRk7NYOmQO1wIWstoO8mA7VEg/RYIOn4jOBDCHWKHxTi2/qwb2DXqgrKy/v8KJTdZ/P+CiLf3mGL8fdr1YURQAAAMyHW44AAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDo/1WWZf1+v9Vq1Wq11dXVbrebpqltAACgdLWiKCpY50tLSzfnl5eXYRjaCQAASlTFJ+iDwWDqvNfrWQgAAAT6rD169Gjq/PHjxxYCAIByVfEVl1qt9rqfrq6uGo2GtQAAoCxVfIIex/HUeRRF6hwAAIE+aw8ePJg673Q6FgIAgHK5xeUvbnEBAKB0VXyC3mg0rq6ufv311/G7LlEUbW9vq3MAAOZBFZ+gX5fneb1etwcAAAh0AABg0i1HAAAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgED/v8myrN/vt1qtWq3WarX6/X6WZbYBAIDS1YqiqGCdLy0t3ZxfXl6GYWgnAAAoURWfoA8Gg6nzXq9nIQAAEOiz9ujRo6nzx48fWwgAAMpVxVdcarXa6366urpqNBrWAgCAslTxCXocx1PnURSpcwAABPqsPXjwYOq80+lYCAAAyuUWl7+4xQUAgNJV8Ql6o9G4vLzc3t6OoigIgiiKtre31TkAAPOgik/Qr8uyzHvnAAAIdAAAYIpbjgAAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABYFHVHUAVZlv3yyy8vX7588eJFEAQff/zx+++///nnnzsZAIB5UyuKwikstn6//+23345Go4l5FEVHR0dhGDoiAID54RWXBTccDr/44osgCPb29i4vL4uiKIri4uLi/v37SZLEcZznuVMCAJgf//rhhx+cwgL7+uuvX716dXJyEsdxo9EYD2/fvv3ZZ5/dunWr1+utrKw0m00HBQAwJ7zisuj/wbVaHMdPnz69+VOe52+88cbGxsb+/r6DAgCYE15xWWTD4TAIgrt37079tV6vB0Hw/PlzBwUAINCZnTt37rzupziOkyRxRAAAAp1ZGL90fnp6+rp/cHR0tLGx4aAAAAQ6szC+QvHZs2dTr2oZvwDjmkUAAIHO7Pz4449Jkvz8888T8zzPO51OEATfffedUwIAmB9ucVlweZ6/8847o9EojuN79+4tLy///vvvr169evjw4Wg0coULAIBAZ9ayLOt0Ok+ePJmY7+3tra2tje9yAQBAoDNTaZpmWXZycrK8vPzWW2+9/fbb0hwAQKADAAD/jY9EAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwCAyqk7girI8/zg4ODly5cvXrwIguDLL79cXl7+5JNPnAwAwLypFUXhFBbb8fHxV199NRqNJuZxHO/v74dh6IgAAOaHV1wW3HA4/PTTT0ej0d7e3sXFRVEUf/7558XFxcbGxtHRURzHeZ47JQCA+eEVlwXX6XSCIEiSpNls/ue/vF5/9913x8/Of/rpp4ODg2+++cZBAQDMCa+4LPp/cK0Wx/HTp09v/pRl2dLS0sbGxv7+voMCAJgTXnFZZMPhMAiCu3fvTv210WgEQfD8+XMHBQAg0JmdO3fuvO6nOI6TJHFEAAACnVkYPyM/PT193T8YfyfqoAAABDqzML5C8dmzZ1N/Hb8A45pFAACBzuzcv38/SZJutzsxz/N8fMHL999/75QAAOaHW1wWXJZlH3zwwWg0iuP43r17zWbzjz/++O233x4+fDgajVzhAgAg0Cmh0TudzpMnTybme3t7a2tr9bq78AEABDozl6ZplmUnJye3b9/+8MMPwzAcf0IKAIBABwAApvORKAAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgf4/StO02+2urq62Wq1+v59lmVUAAGAe1IqiqNrffH5+HkXR9UkURWdnZ7YBAIDSVfEJ+uHh4cQkSZI0TW0DAAACvQQ7Ozs3h71ezzYAACDQAQCAagf65ubmzeH6+rptAACgdFX8SHQ4HL733nvXJz4SBQBAoJcpz/PT09ODg4M333yz3W43m02rAACAQAcAAP7GR6IAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQP9nS9O02+2urq5ubW0dHx/neW4VAACYB7WiKKr2N5+fn0dRdH0SRdHZ2ZltAACgdFV8gn54eDgxSZIkTVPbAACAQC/Bzs7OzWGv17MNAAAIdAAAoNqBvrm5eXO4vr5uGwAAEOglaLfbE5MoisIwtA0AAJSuire4BEGQZdlgMNjd3V1ZWWm3281m0yoAACDQAQCAv/GRKAAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQ/9nSNO12u6urq1tbW8fHx3meWwUAAOZBrSiKqv3N5+fnURRdn0RRdHZ2ZhsAAChdFZ+gHx4eTkySJEnT1DYAACDQS7Czs3Nz2Ov1bAMAAAIdAACodqBvbm7eHK6vr9sGAAAEegna7fbEJIqiMAxtAwAApaviLS5BEGRZNhgMdnd3V1ZW2u12s9m0CgAACHQAAOBvfCQKAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACPR/tizL+v1+q9Xa2to6Pj7O89wqAAAwD2pFUVTtbz4/P4+i6PokiqKzszPbAABA6ar4BP3w8HBikiRJmqa2AQAAgV6CnZ2dm8Ner2cbAAAQ6AAAQLUDfXNz8+ZwfX3dNgAAINBL0G63JyZRFIVhaBsAAChdFW9xCYIgy7LBYLC7uxuG4dra2kcffVSv120DAAACHQAA+IuPRAEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACB7ggAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0RwAAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKA7AgAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAODf7daxAAAAAMAgf+tR7CuKQNABAABBBwAAQQcAAAQdAAAEHQAAEHQAABB0AABA0AEAQNABAABBBwAABB0AAAQdAAAQdAAAEHQAAEDQAQBA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAEHQAAEDQAQAAQQcAAEEHAAAEHQAABB0AABB0AAAQdAAAQNABAEDQAQAAQQcAAEEHAAAEHQAABB0AABB0AABA0AEAQNABAABBBwAAQQcAAAQdAAAEHQAAEHQAABB0AABA0AEAQNABAABBBwAAQQcAAAQdAAAQdAAAEHQAAEDQAQBA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAEHQAAEDQAQBA0AEAAEEHAAAEHQAABB0AABB0AAAQdAAAQNABAEDQAQAAQQcAAEEHAAAEHQAABB0AABB0AAAQdAAAQNABAABBBwAAQQcAAAQdAAAEHQAAEHQAABB0AABA0AEAQNABAABBBwAAQQcAAAQdAAAEHQAAEHQAAEDQAQBA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAEHQAAEDQAQBA0AEAAEEHAABBBwAABB0AABB0AAAQdAAAQNABAEDQAQAAQQcAAEEHAAAEHQAABB0AABB0AAAQdAAAQNABAEDQAQAAQQcAAAQdAAAEHQAAEHQAABB0AABA0AEAQNABAABBBwAAQQcAAAQdAAAEHQAAEHQAABB0AABA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAEHQAAEDQAQBA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAQNABAEDQAQAAQQcAAEEHAAAEHQAABB0AABB0AAAQdAAAQNABAEDQAQAAQQcAAEEHAAAEHQAAEHQAABB0AABA0AEAQNABAABBBwAAQQcAAAQdAAAEHQAA2AVIG5/domQyugAAAABJRU5ErkJggg==){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .yc9 .w1 .hd}
::: {.t .m0 .x3 .h5 .yca .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
原始指针值：[%p]{.ff3}（在现代编译器中打印出16进制地址编码；使用前需要将指针
:::

::: {.t .m0 .x8 .h5 .ycb .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
转换成[(void \*)]{.ff3}类型）
:::

::: {.t .m0 .x3 .h5 .ycc .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
64位类型在打印时需要使用[PRIu64]{.ff3}（无符号）和[PRId64]{.ff3}（有符号）
:::

::: {.t .m0 .x4 .h6 .ycd .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
在一些平台上64位值使用[long]{.ff3}类型，其他使用[long long]{.ff3}类型
:::

::: {.t .m0 .x4 .h6 .yce .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
如果不使用这些宏，事实上不可能指定一个正确的跨平台格式
:::

::: {.t .m0 .x5 .h6 .ycf .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
化字符串，因为类型长度会发生变化（记住，在打印前转换值的类
:::

::: {.t .m0 .x5 .h6 .yd0 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
型既不安全也不符合逻辑）。
:::

::: {.t .m0 .x7 .h8 .yd1 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
intptr\_t：\"%\" PRIdPTR
:::

::: {.t .m0 .x7 .h8 .yd2 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
uintptr\_t：\"%\" PRIuPTR
:::

::: {.t .m0 .x7 .h8 .yd3 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
intmax\_t：\"%\" PRIdMAX
:::

::: {.t .m0 .x7 .h8 .yd4 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
uintmax\_t：\"%\" PRIuMAX
:::

::: {.t .m0 .x1 .h3 .yd5 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
PRI\*[相关的格式化描述符需要注意：它们是宏，这些宏会展开成特定平台上正确的printf描]{.ff1}
:::

::: {.t .m0 .x1 .h3 .yd6 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
述符。因此，不能这样使用：
:::

::: {.t .m0 .x1 .h3 .yd7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
printf(\"Local number: %PRIdPTR\\n\\n\", someIntPtr);
:::

::: {.t .m0 .x1 .h3 .yd8 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而因为它们是宏，应该这样使用：
:::

::: {.t .m0 .x1 .h3 .yd9 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
printf(\"Local number: %\" PRIdPTR \"\\n\\n\", someIntPtr);
:::

::: {.t .m0 .x1 .h3 .yda .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
注意，需要将[%]{.ff3}写在格式化字符串内部，而类型描述符写在格式化字符串外面，这样所有相
:::

::: {.t .m0 .x1 .h3 .ydb .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
邻字符串会被预处理器连接成最终的字符串。
:::

::: {.t .m0 .x1 .ha .ydc .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
C99允许变量定义在任何地方
:::

::: {.t .m0 .x1 .h3 .ydd .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
因此，不要这样写：
:::

::: {.t .m0 .x1 .h3 .yde .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
void test(uint8\_t input) { uint32\_t b; if (input \> 3) { return;
:::

::: {.t .m0 .x1 .h3 .ydf .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
} b = input;}
:::

::: {.t .m0 .x1 .h3 .ye0 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而应该这样写：
:::

::: {.t .m0 .x1 .h3 .ye1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
void test(uint8\_t input) { if (input \> 3) { return; } uint32\_t b
:::

::: {.t .m0 .x1 .h3 .ye2 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
= input;}
:::

::: {.t .m0 .x1 .h3 .ye3 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
警告：如果代码中有紧密的循环，请检查变量初始化的位置。有时疏散的定义可能会引发意
:::

::: {.t .m0 .x1 .h3 .ye4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
外的性能问题。对于常规非快速路径代码（这是大部分情形），变量定义最好能够尽可能清
:::

::: {.t .m0 .x1 .h3 .ye5 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
晰，将类型定义写在初始化语句附近可以大大提高可读性。
:::

::: {.t .m0 .x1 .ha .ye6 .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
C99允许在[for]{.ff3}循环中定义计数器
:::

::: {.t .m0 .x1 .h3 .ye7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
因此，不要这样写：
:::

::: {.t .m0 .x1 .h3 .ye8 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
uint32\_t i; for (i = 0; i \< 10; i++)
:::

::: {.t .m0 .x1 .h3 .ye9 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而应该这样写：
:::

::: {.t .m0 .x1 .h3 .yea .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
for (uint32\_t i = 0; i \< 10; i++)
:::
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf8 .pf .w0 .h0 page-no="8"}
::: {.pc .pc8 .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAY9ElEQVR42uzYQQ3AMBADwVxUAuUPshAcBnlb1QwEv1aeJAsAAOiwTQAAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKCbAAAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAApR4TcDHzGaFH8hoBAH7Pgw4AAEUmiRUAAKCEBx0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6CYAAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQTQAAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKCbAAAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOin3TokAAAAABD0/7UjrDDBJAAAGHQAAMCgAwCAQQcAAAw6AAAYdAAAwKADAIBBBwAADDoAAGDQAQDAoAMAAAYdAAAMOgAAYNABAMCgAwAABh0AAAw6AABg0AEAwKADAAAGHQAADDoAAGDQAQAAgw4AAAYdAAAw6AAAYNABAACDDgAABh0AADDoAABg0AEAAIMOAAAGHQAAMOgAAGDQJQAAAIMOAAAYdAAAMOgAAIBBBwAAgw4AABh0AAAw6AAAgEEHAACDDgAAGHQAADDoAACAQQcAAAw6AAAYdAAAwKADAIBBBwAADDoAABh0AADAoAMAgEEHAAAMOgAAGHQAAMCgAwCAQQcAAAw6AABg0AEAwKADAAAGHQAADDoAAGDQAQDAoAMAAEvDTxSRq7TfWQAAAABJRU5ErkJggg==){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y41 .w1 .h9}
::: {.t .m0 .x1 .h3 .yeb .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
一个例外：如果在循环完成后还需要复用计数器，显然不能将计数器定义在循环作用域内。
:::

::: {.t .m0 .x1 .ha .yec .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
现代编译器支持[\#pragma once]{.ff3}
:::

::: {.t .m0 .x1 .h3 .yed .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
因此，不要这样写：
:::

::: {.t .m0 .x1 .h3 .yee .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\#ifndef PROJECT\_HEADERNAME\#define PROJECT\_HEADERNAME\...\#endif /\*
:::

::: {.t .m0 .x1 .h3 .yef .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
PROJECT\_HEADERNAME \*/
:::

::: {.t .m0 .x1 .h3 .yf0 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而应该这样写：
:::

::: {.t .m0 .x1 .h3 .yf1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\#pragma once
:::

::: {.t .m0 .x1 .h3 .yf2 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
\#pragma
once[告诉编译器只引入头文件一次，我们再也不需要在头文件中用三行预处理指令]{.ff1}
:::

::: {.t .m0 .x1 .h3 .yf3 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
来确保。pragma预处理指令已经被几乎所有平台上的所有编译器支持，因此更加推崇。
:::

::: {.t .m0 .x1 .h3 .yf4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
更多详情，参见[pragma once]{.fc1}的编译器支持列表。
:::

::: {.t .m0 .x1 .ha .yf5 .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
C语言允许静态初始化自动分配数组
:::

::: {.t .m0 .x1 .h3 .yf6 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
因此，不要这些写：
:::

::: {.t .m0 .x1 .h3 .yf7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
uint32\_t numbers\[64\]; memset(numbers, 0, sizeof(numbers));
:::

::: {.t .m0 .x1 .h3 .yf8 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而应该这样写：
:::

::: {.t .m0 .x1 .h3 .yf9 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
uint32\_t numbers\[64\] = {0};
:::

::: {.t .m0 .x1 .ha .yfa .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
C语言允许静态初始化自动分配结构体
:::

::: {.t .m0 .x1 .h3 .yfb .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
因此，不要这样写：
:::

::: {.t .m0 .x1 .h3 .yfc .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
struct thing { uint64\_t index; uint32\_t counter; };
:::

::: {.t .m0 .x1 .h3 .yfd .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
struct thing localThing; void initThing(void) { memset(&localThing, 0,
:::

::: {.t .m0 .x1 .h3 .yfe .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
sizeof(localThing)); }
:::

::: {.t .m0 .x1 .h3 .yff .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而应该这样写：
:::

::: {.t .m0 .x1 .h3 .y100 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
struct thing { uint64\_t index; uint32\_t counter; };
:::

::: {.t .m0 .x1 .h3 .y101 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
struct thing localThing = {0};
:::

::: {.t .m0 .x1 .h3 .y102 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
重要提示：如果结构体中有填充，使用[{0}]{.ff3}方式初始化无法将多余的填充字节置为0。例如，
:::

::: {.t .m0 .x1 .h3 .y103 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
struct
thing[结构体在]{.ff1}counter[字段之后有4字节填充（64位平台上），因为结构体需要按照]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y104 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
字长对齐。这种情况下如果需要将整个结构体（包括未使用的填充字节）置为0,可以使用
:::

::: {.t .m0 .x1 .h3 .y105 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
memset(&localThing, 0, sizeof(localThing))[因为]{.ff1}sizeof(localThing)
== 16 字节[，即]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y106 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
使可寻址内容只有[8 + 4 = 12 字节]{.ff3}。
:::

::: {.t .m0 .x1 .h3 .y107 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果需要重新初始化已经分配内存空间的结构体，可以定义一个全局空结构体，然后赋值：
:::

::: {.t .m0 .x1 .h3 .y108 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
struct thing { uint64\_t index; uint32\_t counter; };
:::

::: {.t .m0 .x1 .h3 .y109 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
static const struct thing localThingNull = {0}; . . . struct thing
:::

::: {.t .m0 .x1 .h3 .y10a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
localThing = {.counter = 3}; . . . localThing = localThingNull;
:::
:::

[](https://en.wikipedia.org/wiki/Pragma_once){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:140.795761px;bottom:576.641600px;width:66.033279px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf9 .pf .w0 .h0 page-no="9"}
::: {.pc .pc9 .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAZS0lEQVR42uzaSw6CQBREUZ7pDfT+F9lLKKeODPiJTzhnzAALY64dKskGAAD0cDMBAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAA3zBMAEBnVcsIcCnJvPrvXhLfAwAAaMIrLgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBANwEAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIFuAgAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AADwkmECAADOp2q1up9k7rzSCToAAHT6a5HECgAA0IQTdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAA2LZt7LmoalnquWQaAQCA9zlBBwCARiqJFQAAoAkn6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAFzFMAB1ULSOcTzKNAMBRTtABAKCRSmIFAABowgk6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAA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){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y41 .w1 .h9}
::: {.t .m0 .x1 .h3 .y10b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果我们幸运的使用C99（或更新）版本的环境，我们可以使用复合字面量（compound
:::

::: {.t .m0 .x1 .h3 .y10c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
literals），以取代保存一个全局空结构体。（参见[The New C: Compound
Literals]{.fc1}）
:::

::: {.t .m0 .x1 .h3 .y10d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
复合字面量允许直接将匿名结构体赋值给变量：
:::

::: {.t .m0 .x1 .h3 .y10e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
localThing = (struct thing){0};
:::

::: {.t .m0 .x1 .ha .y10f .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
C99增加可变长数组支持（C11将其设为可选）
:::

::: {.t .m0 .x1 .h3 .y110 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
因此，不要这样写：
:::

::: {.t .m0 .x1 .h3 .y111 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
uintmax\_t arrayLength = strtoumax(argv\[1\], NULL, 10); void
\*array\[\];
:::

::: {.t .m0 .x1 .h3 .y112 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
array = malloc(sizeof(\*array) \* arrayLength); /\*
记得当使用完数组后，释放其内
:::

::: {.t .m0 .x1 .h3 .y113 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
存 \*/
:::

::: {.t .m0 .x1 .h3 .y114 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而应该这样写：
:::

::: {.t .m0 .x1 .h3 .y115 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
uintmax\_t arrayLength = strtoumax(argv\[1\], NULL, 10); void
:::

::: {.t .m0 .x1 .h3 .y116 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\*array\[arrayLength\]; /\* 不需要释放数组内存 \*/
:::

::: {.t .m0 .x1 .h3 .y117 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
重要警告：可变长数组（通常）和普通数组一样分配在栈上。如果我们不需要很多元素的数
:::

::: {.t .m0 .x1 .h3 .y118 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
组，不要尝试通过这种语法创建大数组。它不是python/ruby中的自增长列表。如果定义了
:::

::: {.t .m0 .x1 .h3 .y119 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
一个数组的长度，相对于栈空间比较大，应用程序将会发生可怕的事情（崩溃、安全问
:::

::: {.t .m0 .x1 .h3 .y11a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
题）。可变长数组适用于长度小的一般用途场景，而不应该大规模用于生产软件。如果有时
:::

::: {.t .m0 .x1 .h3 .y11b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
需要使用3个元素的数组，而其他时候需要300万个元素的数组，绝对不要使用可变长数组。
:::

::: {.t .m0 .x1 .h3 .y11c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
可变长数组语法还需要注意检查其可访问（或者做快速一次行检查），但还是需要考虑[危险]{.fc1}
:::

::: {.t .m0 .x1 .h3 .y11d .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
的反模式[，因为简单的忘记检查数组元素边界或者目标平台上没有足够的栈空间，都可能导]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y11e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
致应用程序崩溃。
:::

::: {.t .m0 .x1 .h3 .y11f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
注意：使用可变长数组时，必须确保数组的确切长度在一个合理的大小。（例如小于几KB，
:::

::: {.t .m0 .x1 .h3 .y120 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
有时在一些平台上，最大栈大小只有4KB。）我们不能在栈上分配巨大的数组（百万级），
:::

::: {.t .m0 .x1 .h3 .y121 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
但是如果是有的大小，使用[C99可变长数组]{.fc1}相比于人工在堆上请求内存会更加方便。
:::

::: {.t .m0 .x1 .h3 .y122 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
另：上面示例代码中没有输入检查，因此用户可以通过分配一个巨大的可变长数组而让应用
:::

::: {.t .m0 .x1 .h3 .y123 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
程序崩溃。到目前为止，[一些人]{.fc1}称可变长数组为反模式，但是如果我们能够加强边界检查，
:::

::: {.t .m0 .x1 .h3 .y124 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
在一些场景下可能会有优势。
:::

::: {.t .m0 .x1 .ha .y125 .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
C99允许将指针参数标记为非重叠
:::

::: {.t .m0 .x1 .h3 .y126 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
参见[restrict关键字说明]{.fc1}（通常该关键字为[\_\_restrict]{.ff3}）。
:::

::: {.t .m0 .x1 .ha .y127 .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
参数类型
:::

::: {.t .m0 .x1 .h3 .y128 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果一个函数接受任意输入类型和一个数据长度，不要限制这个参数的类型。
:::

::: {.t .m0 .x1 .h3 .y129 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
因此，不要这样写：
:::

::: {.t .m0 .x1 .h3 .y12a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
void processAddBytesOverflow(uint8\_t \*bytes, uint32\_t len) { for
(uint32\_t i
:::

::: {.t .m0 .x1 .h3 .y12b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
= 0; i \< len; i++) { bytes\[0\] += bytes\[i\]; }}
:::
:::

[](http://www.drdobbs.com/the-new-c-compound-literals/184401404){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:333.642940px;bottom:754.480960px;width:169.585480px;height:12.006340px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/grynspan/status/685509158024691712){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:387.546390px;width:483.243555px;height:33.016600px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://en.wikipedia.org/wiki/Variable-length_array){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:200.826020px;bottom:303.503910px;width:78.789700px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/comex/status/685423016981966848ps://en.wikipedia.org/wiki/Variable-length_array){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:188.819960px;bottom:261.482420px;width:36.018160px;height:12.006350px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://en.wikipedia.org/wiki/Restrict){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:80.015129px;bottom:188.695800px;width:108.804831px;height:12.006350px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pfa .pf .w0 .h0 page-no="a"}
::: {.pc .pca .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAY7ElEQVR42uzasQ0AIRADwb8XDdB/kZRgOkBCJBfMlOBoA1eSDwAA6OE3AQAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgW4CAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAAOhsm4KBqGYEXyTQCANwFWBIrAABAEy4uAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEA3AQAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgW4CAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAC3QQAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACnd1uHcgAAAAADPK3vsdXFAEAgKADAICgAwAAgg4AAIIOAAAIOgAACDoAACDoAACAoAMAgKADAACCDgAAgg4AAAg6AAAIOgAAIOgAACDoAACAoAMAgKADAACCDgAAgg4AAAg6AAAg6AAAIOgAAICgAwCAoAMAAIIOAACCDgAACDoAAAg6AAAg6AAAIOgAAICgAwCAoAMAAIIOAAAIOgAACDoAACDoAAAg6AAAgKADAICgAwAAgg4AAIIOAAAIOgAACDoAACDoAAAg6AAAgKADAACCDgAAgg4AAAg6AAAIOgAAIOgAACDoAACAoAMAgKADAACCDgAAgg4AAAg6AAAIOgAAIOgAAICgAwCAoAMAAIIOAACCDgAACDoAAAwEn4IUkURYpGQAAAAASUVORK5CYII=){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y41 .w1 .h9}
::: {.t .m0 .x1 .h3 .y12c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而应该这样写：
:::

::: {.t .m0 .x1 .h3 .y12d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
void processAddBytesOverflow(void \*input, uint32\_t len) { uint8\_t
\*bytes =
:::

::: {.t .m0 .x1 .h3 .y12e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
input; for (uint32\_t i = 0; i \< len; i++) { bytes\[0\] += bytes\[i\];
:::

::: {.t .m0 .x1 .h3 .y12f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
}}
:::

::: {.t .m0 .x1 .h3 .y130 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
函数的入参用于描述代码的接口行为，而不是代码中是如何处理这些参数的。上面示例代码
:::

::: {.t .m0 .x1 .h3 .y131 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
中的接口表示"接受一个字节数组及其长度"，因此无需限制调用者仅能传入uint8\_t字节
:::

::: {.t .m0 .x1 .h3 .y132 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
流。可能调用者甚至想传入老式的[char \*]{.ff3}类型或者其他未预期的值。
:::

::: {.t .m0 .x1 .h3 .y133 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
通过将入参定义为[void
\*]{.ff3}，然后在函数内部重新赋值或者类型转换成实际类型，可以减少函
:::

::: {.t .m0 .x1 .h3 .y134 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
数调用者对函数内部抽象的猜测。
:::

::: {.t .m0 .x1 .h3 .y135 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
一些读者指出示例可能会存在对齐问题，但是我们是在访问入参中的每个字节元素，因此不
:::

::: {.t .m0 .x1 .h3 .y136 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
会有问题。如果我们需要将入参转换成更宽的类型，就需要注意对齐问题。对于处理跨平台
:::

::: {.t .m0 .x1 .h3 .y137 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对齐问题，参见[未对齐的内存访问]{.fc1}。（提醒：这个网页的主要内容不是关于C语言跨硬件架
:::

::: {.t .m0 .x1 .h3 .y138 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
构的复杂性，因此完全理解其中的示例需要一些外部的知识和经验。）
:::

::: {.t .m0 .x1 .ha .y139 .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
返回值类型
:::

::: {.t .m0 .x1 .h3 .y13a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
C99提供了头文件，其中定义了[true]{.ff3}为[1]{.ff3}，[false]{.ff3}为[0]{.ff3}。
:::

::: {.t .m0 .x1 .h3 .y13b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对于标识成功/失败的返回值类型，函数应该返回[true]{.ff3}或者[false]{.ff3}，而不是一个[int32\_t]{.ff3}的数
:::

::: {.t .m0 .x1 .h3 .y13c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
值来人为指定[1]{.ff3}和[0]{.ff3}（或者更糟糕的使用[1]{.ff3}和[-1]{.ff3}），调用者很难确认[0]{.ff3}代表成功还是失败。
:::

::: {.t .m0 .x1 .h3 .y13d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果函数会修改入参，且可能修改成无效值，不要返回修改后的指针，而应该将API中可能
:::

::: {.t .m0 .x1 .h3 .y13e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
会被修改成无效的参数都改成指针的指针。将接口定义为"对于一些调用，返回值会使得入
:::

::: {.t .m0 .x1 .h3 .y13f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
参无效"在大规模使用的时候很容易出错。
:::

::: {.t .m0 .x1 .h3 .y140 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
因此，不要这样写：
:::

::: {.t .m0 .x1 .h3 .y141 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
void \*growthOptional(void \*grow, size\_t currentLen, size\_t newLen) {
if
:::

::: {.t .m0 .x1 .h3 .y142 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
(newLen \> currentLen) { void \*newGrow = realloc(grow, newLen); if
:::

::: {.t .m0 .x1 .h3 .y143 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
(newGrow) { /\* resize success \*/ grow = newGrow; }
:::

::: {.t .m0 .x1 .h3 .y144 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
else { /\* resize failed, free existing and signal failure through
:::

::: {.t .m0 .x1 .h3 .y145 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
NULL \*/ free(grow); grow = NULL; } } return
:::

::: {.t .m0 .x1 .h3 .y146 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
grow;}
:::

::: {.t .m0 .x1 .h3 .y147 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而应该这样写：
:::

::: {.t .m0 .x1 .h3 .y148 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
/\* 返回值： \* - 如果newLen大于currentLen，且尝试调整内存，返回'true'
\* -
:::

::: {.t .m0 .x1 .h3 .y149 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
'true'不表示内存扩大成功，仍然需要通过'\*\_grow'的值来判断是否成功 \* -
如果
:::

::: {.t .m0 .x1 .h3 .y14a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
newLen小于等于currentLen返回'false'\*/bool growthOptional(void
\*\*\_grow, size\_t
:::

::: {.t .m0 .x1 .h3 .y14b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
currentLen, size\_t newLen) { void \*grow = \*\_grow; if (newLen \>
currentLen)
:::

::: {.t .m0 .x1 .h3 .y14c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
{ void \*newGrow = realloc(grow, newLen); if (newGrow) {
:::

::: {.t .m0 .x1 .h3 .y14d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
/\* 调整大小成功 \*/ \*\_grow = newGrow; return true; }
:::
:::

[](https://www.kernel.org/doc/Documentation/unaligned-memory-access.txt){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:140.795761px;bottom:544.375000px;width:96.048419px;height:12.006350px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pfb .pf .w0 .h0 page-no="b"}
::: {.pc .pcb .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAY60lEQVR42uzYQREAIRADwdsrDOBfJBKCB14L1S0hr6lUkg8AAOjhNwEAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIFuAgAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAt0EAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEugkAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAA8LhhAoDmqpYR7pJMIwDHPOgAANBIJbECAAA04UEHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABLoJAABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdBMAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBAZ7dbBwIAAAAAgvytB7koAgAAQQcAAAQdAAAEHQAAEHQAABB0AABA0AEAQNABAABBBwAAQQcAAAQdAAAEHQAAEHQAABB0AABA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAEHQAAEDQAQBA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAQNABAEDQAQAAQQcAAEEHAAAEHQAABB0AABB0AAAQdAAAQNABAEDQAQAAQQcAAEEHAAAEHQAAEHQAABB0AABA0AEAQNABAABBBwAAQQcAAAQdAAAEHQAAEHQAABB0AABA0AEAQNABAABBBwAABB0AAAQdAAAQdAAAEHQAAEDQAQBA0AEAAEEHAABBBwAABB0AAAQdAAAQdAAAmAp3nxSRsT6xnAAAAABJRU5ErkJggg==){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .yc9 .w1 .hd}
::: {.t .m0 .x1 .h3 .y14e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
/\* 调整大小失败 \*/ free(grow); \*\_grow = NULL; /\* 对于这个函
:::

::: {.t .m0 .x1 .h3 .y14f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
数，返回'true'不代表成功， \* 它只表示'尝试扩展' \*/ return
:::

::: {.t .m0 .x1 .h3 .y150 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
true; } return false;}
:::

::: {.t .m0 .x1 .h3 .y151 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
或者，更好的可以这样写：
:::

::: {.t .m0 .x1 .h3 .y152 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
typedef enum growthResult { GROWTH\_RESULT\_SUCCESS = 1,
:::

::: {.t .m0 .x1 .h3 .y153 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
GROWTH\_RESULT\_FAILURE\_GROW\_NOT\_NECESSARY,
:::

::: {.t .m0 .x1 .h3 .y154 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
GROWTH\_RESULT\_FAILURE\_ALLOCATION\_FAILED} growthResult;growthResult
:::

::: {.t .m0 .x1 .h3 .y155 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
growthOptional(void \*\*\_grow, size\_t currentLen, size\_t newLen) {
void \*grow =
:::

::: {.t .m0 .x1 .h3 .y156 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\*\_grow; if (newLen \> currentLen) { void \*newGrow = realloc(grow,
:::

::: {.t .m0 .x1 .h3 .y157 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
newLen); if (newGrow) { /\* 调整大小成功 \*/ \*\_grow =
:::

::: {.t .m0 .x1 .h3 .y158 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
newGrow; return GROWTH\_RESULT\_SUCCESS; } /\* 调整大小失
:::

::: {.t .m0 .x1 .h3 .y159 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
败，无需移除数据，因为我们已经能够提示失败 \*/ return
:::

::: {.t .m0 .x1 .h3 .y15a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
GROWTH\_RESULT\_FAILURE\_ALLOCATION\_FAILED; } return
:::

::: {.t .m0 .x1 .h3 .y15b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
GROWTH\_RESULT\_FAILURE\_GROW\_NOT\_NECESSARY;}
:::

::: {.t .m0 .x1 .ha .y15c .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
代码格式化
:::

::: {.t .m0 .x1 .h3 .y15d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
编码风格既非常重要又一文不值。
:::

::: {.t .m0 .x1 .h3 .y15e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果你的项目有50页的编码风格指南，没有人会帮助你。但是，如果你的代码可读性非常
:::

::: {.t .m0 .x1 .h3 .y15f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
差，没有人会希望帮助你。
:::

::: {.t .m0 .x1 .h3 .y160 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
这个问题的解决方案是总是使用自动化代码格式化工具。
:::

::: {.t .m0 .x1 .h3 .y161 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
2016年唯一能够能使用的C代码格式化工具是[clang-format]{.fc1}。clang-format拥有格式化C代码
:::

::: {.t .m0 .x1 .h3 .y162 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
的最佳默认值，并且仍然处于活跃开发阶段。
:::

::: {.t .m0 .x1 .h3 .y163 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
下面示例是我运行clang-format时的首选脚本，它包含一些不错的参数：
:::

::: {.t .m0 .x1 .h3 .y164 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\#!/usr/bin/env bashclang-format -style=\"{BasedOnStyle: llvm,
IndentWidth: 4,
:::

::: {.t .m0 .x1 .h3 .y165 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
AllowShortFunctionsOnASingleLine: None,
KeepEmptyLinesAtTheStartOfBlocks:
:::

::: {.t .m0 .x1 .h3 .y166 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
false}\" \"\$@\"
:::

::: {.t .m0 .x1 .h3 .y167 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
然后调用这个脚本（假设这个脚本被命令成[cleanup-format]{.ff3}）：
:::

::: {.t .m0 .x1 .h3 .y168 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
matt\@foo:\~/repos/badcode% cleanup-format -i \*.{c,h,cc,cpp,hpp,cxx}
:::

::: {.t .m0 .x1 .h3 .y169 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
-i[参数会将格式化之后的内容覆盖到原文件中，而不是写入新文件或者创建备份文件。]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y16a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
如果有很多文件，可以并行递归处理整个源码树：
:::

::: {.t .m0 .x1 .h3 .y16b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\#!/usr/bin/env bash\#
注意：clang-tidy命令一次只能接受一个文件，但是我们可以在不
:::

::: {.t .m0 .x1 .h3 .y16c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
相交集合中并行执行。find . \\( -name \\\*.c -or -name \\\*.cpp -or -name
\\\*.cc \\)
:::

::: {.t .m0 .x1 .h3 .y16d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\|xargs -n1 -P4 cleanup-tidy\#
clang-format命令一次运行能够接受多个文件，但是为了
:::

::: {.t .m0 .x1 .h3 .y16e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
防止内存的过度使用，\# 我们限制位为一次最多12个文件。find . \\( -name
\\\*.c -or -
:::

::: {.t .m0 .x1 .h3 .y16f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
name \\\*.cpp -or -name \\\*.cc -or -name \\\*.h \\) \|xargs -n12 -P4
cleanup-format -i
:::
:::

[](http://clang.llvm.org/docs/ClangFormat.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:291.621770px;bottom:366.535160px;width:72.786680px;height:12.006340px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pfc .pf .w0 .h0 page-no="c"}
::: {.pc .pcc .w0 .h0}
![](data:image/png;base64,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f3hJFAAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoRgAAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKAbAQAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdIC/27VDGwmhKICi2c2g0EPoggZIEOAohhqogG5Q4EDQBR6NYhJW7GTF4NZAwjmO5/h54ubnA4BABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0RwAAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQP+P1+s1juOyLJYAAACBfqZ1XauqCoIgTdMoipIkadvWKgAAcAVf+77f7Z/bti3L8mO4bdvj8bAQAACc64436E3THIfTNNkGAAAE+gm6rjsO+763DQAACPQTFEVxHOZ5bhsAADidN+hv3qADAHAFd7xBz7Ksrus4jn8/i6IYhkGdAwBwBXe8Qf8zz/Pz+QzD0B4AACDQAQCAT9+OAAAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAA38wPcFk/jgoCJ9wAAAABJRU5ErkJggg==){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y170 .w1 .he}
::: {.t .m0 .x1 .h3 .y171 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
现在，[cleanup-tidy]{.ff3}脚本修改后的内容为：
:::

::: {.t .m0 .x1 .h3 .y172 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\#!/usr/bin/env bashclang-tidy \\ -fix \\ -fix-errors \\
-header-filter=.\*
:::

::: {.t .m0 .x1 .h3 .y173 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\\ \--checks=readability-braces-around-statements,misc-macro-parentheses
\\
:::

::: {.t .m0 .x1 .h3 .y174 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
\$1 \\ \-- -I.
:::

::: {.t .m0 .x1 .h3 .y175 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
clang-tidy[是策略驱动的代码重构工具。上面示例中的参数开启了两个修正：]{.fc0}
:::

::: {.t .m0 .x7 .h8 .y176 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
readability-braces-around-statements：强制所有的if、while、for语句体都
:::

::: {.t .m0 .x8 .h8 .y177 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
使用大括号括起来
:::

::: {.t .m0 .x4 .h6 .y178 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
C语言中对于循环和条件后面的单行语句有"可选的大括
:::

::: {.t .m0 .x5 .h6 .y179 .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
号"是一个历史事故。在编写现代代码时，在循环和条件语句之后
:::

::: {.t .m0 .x5 .h6 .y17a .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
不使用大括号是不可原谅的行为。不要试图以"但是，编译器支持
:::

::: {.t .m0 .x5 .h6 .y17b .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
这样的写法！"为由来争辩，这对于代码的可读性、可维护性、易
:::

::: {.t .m0 .x5 .h6 .y17c .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
懂性没有任何好处。我们的代码不是用来取悦你的编译器，而是用
:::

::: {.t .m0 .x5 .h6 .y17d .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
来取悦将来维护代码的人，那时没有人记得当时为什么会存在这样
:::

::: {.t .m0 .x5 .h6 .y17e .ff2 .fs2 .fc0 .sc0 .ls0 .ws0}
的代码。
:::

::: {.t .m0 .x7 .h8 .y17f .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
misc-macro-parentheses：自动为宏的所有参数加上括号
:::

::: {.t .m0 .x1 .h3 .y180 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
clang-tidy[命令在它正常工作时非常优秀，但是对于一些复杂的代码可能会卡壳。还有，]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y181 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
clang-tidy[命令不会对代码进行格式化，因此在整理完成之后，还需要运行]{.ff1}clang-format[命]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y182 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
令来对齐新的大括号和重新推导宏。
:::

::: {.t .m0 .x1 .ha .y183 .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
可读性
:::

::: {.t .m0 .x1 .h3 .y184 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
写作似乎从这里开始减慢了......
:::

::: {.t .m0 .x1 .hb .y185 .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
注释
:::

::: {.t .m0 .x1 .h3 .y186 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
代码逻辑应该自包含在代码文件中。
:::

::: {.t .m0 .x1 .hb .y187 .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
文件结构
:::

::: {.t .m0 .x1 .h3 .y188 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
尽可能将源码行限制在1000行以内（1500行已经是非常糟糕的情况了）。如果测试代码也包
:::

::: {.t .m0 .x1 .h3 .y189 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
含在源码中（为了测试静态函数等情况），尽可能调整这种结构。
:::

::: {.t .m0 .x1 .ha .y18a .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
杂项想法
:::

::: {.t .m0 .x1 .hb .y18b .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
绝不使用[malloc]{.ff3}
:::

::: {.t .m0 .x1 .h3 .y18c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
我们应该总是使用[calloc]{.ff3}。获取清零的内存没有性能损失。如果不喜欢[calloc(object
]{.ff3}
:::

::: {.t .m0 .x1 .h3 .y18d .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
count, size per object)[的函数原型，我们可以将其包装成]{.ff1}\#define
mycalloc(N)
:::

::: {.t .m0 .x1 .h3 .y18e .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
calloc(1, N)[。]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y18f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对此读者进行了一些评论：
:::

::: {.t .m0 .x7 .h8 .y190 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
calloc在巨大内存申请的场景下，的确会有性能影响
:::
:::

[](http://clang.llvm.org/extra/clang-tidy/){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:691.449220px;width:60.030254px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pfd .pf .w0 .h0 page-no="d"}
::: {.pc .pcd .w0 .h0}
![](data:image/png;base64,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AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEB3BAAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAI9DK6sTvuXbv+9vtf9q5dv7E7tgoAAEyDIMuysn3n8d//vPHulcHmzt7hc088fOHNZx84PGsnAAAoUBlv0JOtP/bVeaVSGWzufPHdrxYCAACBPmkff/Vz7vyDT763EAAACPRJ+/DTH3Lng80dD6MDACDQJ+3Y4vydPrp/1mttAAAQ6JO18sJjufPXXnp89j6BDgCAQJ+sV55ZzJ2//PSihQAAQKBP2pH5w+dWju990OXY4vy5lePx0oKFAACgWGV8D/otv/21+/k3288/WT0yf9gqAAAg0AEAgP/wn0gAABDoAACAQAcAgCk36wimRBD87hCAuy7LHnIIAPdYFvqTKAAATA+PuAAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAoc6Df2B33rl1/+/0ve9eu39gdWwUAAKZBkGVZCb/26+8MBps7eyfPPfHwe2+dmL3PTwoAABSpjD367U9/7qvzSqUy2NxJtv6wEAAACPRJu/z1L7nzj7/62UIAACDQJ+2jz37MnX/46Q/jv/+xEwAACHQAAKCsgf7qi4/lzl976XF/EgUAQKBPWv2pR3LnLz+9aCEAABDok3bs0QfPrRw/tjh/e7I4f27leLy0YCEAAChWSd+DftNvf+1+/s32809Wj8wftgoAAAh0AADgP/wnEgAABDoAACDQAQBgys06gikRBL87BPhfZdlDDgGAeyAL/UkUAACmh0dcAABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIHuCAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHRHAAAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAMC/7dpBDcAwDARBWyqB8AcZCFcGfVWqo84giC6ffRgEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAR7hOfHT39nPwuWQZAQDeb90kVgAAgCGcuAAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAIBZLhPwoHsbgSGSZQQAfhFgSawAAABDOHEBAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAVFXd8J+jfGB0iv0AAAAASUVORK5CYII=){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .yc9 .w1 .hd}
::: {.t .m0 .x7 .h8 .y191 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
calloc在一些奇怪的平台上（最小嵌入式系统、游戏主机、30年前的旧硬件等）
:::

::: {.t .m0 .x8 .h8 .y192 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
的确会有性能影响
:::

::: {.t .m0 .x3 .h5 .y193 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
对[calloc(element count, size of each
element)]{.ff3}原型进行包装不总是一个好
:::

::: {.t .m0 .x8 .h5 .y194 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
主意
:::

::: {.t .m0 .x3 .h5 .y195 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
避免使用[malloc()]{.ff3}的很大一个因素是其不进行整数溢出检查，这是一个潜在的安
:::

::: {.t .m0 .x8 .h5 .y196 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
全风险
:::

::: {.t .m0 .x3 .h5 .y197 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
使用[calloc]{.ff3}函数分配内存可以避免valgrind对于未初始化内存潜在读写的警告，
:::

::: {.t .m0 .x8 .h5 .y198 .ff2 .fs0 .fc0 .sc0 .ls0 .ws0}
因为它会在分配内存时自动初始化为[0]{.ff3}
:::

::: {.t .m0 .x1 .h3 .y199 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
以上是使用[calloc]{.ff3}的优势，同时我们还需要进行性能测试和回归测试，以确定跨编译器、平
:::

::: {.t .m0 .x1 .h3 .y19a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
台、操作系统和硬件设备上的性能。
:::

::: {.t .m0 .x1 .h3 .y19b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
直接使用[calloc()]{.ff3}而非其包装的优势是，不同于[malloc()]{.ff3}，[calloc()]{.ff3}函数能够检查整数溢
:::

::: {.t .m0 .x1 .h3 .y19c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
出，因为它会将其参数做乘法，以确认实际分配的大小。如果直至分配很小的内存，对
:::

::: {.t .m0 .x1 .h3 .y19d .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
calloc()[进行包装没有问题。如果需要分配潜在无边界数据流，可能需要使用]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y19e .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
calloc(element count, size of each element)[的原型以方便使用。]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y19f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
没有建议是可以普适的，试图给出准确完美的通用建议，最终会变琛阅读一本类似语言规范
:::

::: {.t .m0 .x1 .h3 .y1a0 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
的书。
:::

::: {.t .m0 .x1 .h3 .y1a1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对于[calloc()]{.ff3}如何无损耗提供干净的内存，参见这些文章：
:::

::: {.t .m0 .x3 .h5 .y1a2 .ff2 .fs0 .fc1 .sc0 .ls0 .ws0}
关于calloc()和零页有趣的基准测试
:::

::: {.t .m0 .x3 .h5 .y1a3 .ff2 .fs0 .fc1 .sc0 .ls0 .ws0}
虚拟内存管理中的写时复制
:::

::: {.t .m0 .x1 .h3 .y1a4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
我还是坚持我的立场，建议在2016年的大部分场景下（假定：x64目标平台，一般大小的数
:::

::: {.t .m0 .x1 .h3 .y1a5 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
据，不包括人体基因数量级的数据）总是使用[calloc()]{.ff3}函数。任何和"期望"的偏离，会将
:::

::: {.t .m0 .x1 .h3 .y1a6 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
我们拖入"领域知识"，这不是我们今天谈论的范围。
:::

::: {.t .m0 .x1 .h3 .y1a7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
注：通过调用[calloc()]{.ff3}申请到的预先清零内存是一次性的。如果使用[realloc()]{.ff3}函数来扩展
:::

::: {.t .m0 .x1 .h3 .y1a8 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
calloc()[函数分配的内存，是没有清零的内存。扩展的内存仍然会被内核提供常规未初始化]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y1a9 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
内容填充。如果需要在调用realloc之后将内存置零，必须针对扩展的内存手工调用
:::

::: {.t .m0 .x1 .h3 .y1aa .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
memset()[函数。]{.ff1}
:::

::: {.t .m0 .x1 .hb .y1ab .ff1 .fs4 .fc2 .sc0 .ls0 .ws0}
（如果可以避免）不要使用memset
:::

::: {.t .m0 .x1 .h3 .y1ac .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
当可以静态初始化结构（或数组）为零（或者通过内联复合字面量赋值为零，或者通过赋值
:::

::: {.t .m0 .x1 .h3 .y1ad .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
为预先置零的全局变量）时，绝不要使用[memset(ptr, 0, len)]{.ff3}。
:::

::: {.t .m0 .x1 .h3 .y1ae .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
不过，如果需要将结构体填充字节置零，[memset()]{.ff3}是唯一选择。（因为[{0}]{.ff3}语法只能设置定
:::

::: {.t .m0 .x1 .h3 .y1af .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
义的字段，而无法填充未定义的填充字节。）
:::

::: {.t .m0 .x1 .h4 .y1b0 .ff1 .fs1 .fc2 .sc0 .ls0 .ws0}
了解更多
:::

::: {.t .m0 .x1 .h3 .y1b1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
参见[固定宽度整数类型（从C99）]{.fc1}
:::

::: {.t .m0 .x1 .h3 .y1b2 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
参见苹果公司的[让64位代码更加清晰]{.fc1}
:::
:::

[](https://blogs.fau.de/hager/archives/825){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:115.282906px;bottom:416.810550px;width:186.093804px;height:15.757810px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://en.wikipedia.org/wiki/Copy-on-write#Copy-on-write_in_virtual_memory_management){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:115.282906px;bottom:395.799800px;width:144.822994px;height:15.757820px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://en.cppreference.com/w/c/types/integer){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:80.015129px;bottom:97.899414px;width:150.826011px;height:12.006836px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://developer.apple.com/library/mac/documentation/Darwin/Conceptual/64bitPorting/MakingCode64-BitClean/MakingCode64-BitClean.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:140.795761px;bottom:76.888672px;width:108.804839px;height:12.006836px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pfe .pf .w0 .h0 page-no="e"}
::: {.pc .pce .w0 .h0}
![](data:image/png;base64,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AAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAA3GqY4GOqlhFOJNMn8zUBACfoAADQSCWxAgAANOEEHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBA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){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .yc9 .w1 .hd}
::: {.t .m0 .x1 .h3 .y1b3 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
参见[跨架构C类型大小]{.fc1}------除非我们能够记住整个表格中的每一行并应用到代码的每一行，
:::

::: {.t .m0 .x1 .h3 .y1b4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
我们都应该使用明确定义宽度的整数，绝不使用char/short/int/long这些内置存储类型。
:::

::: {.t .m0 .x1 .h3 .y1b5 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
参见[size\_t和ptrdiff\_t]{.fc1}
:::

::: {.t .m0 .x1 .h3 .y1b6 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
参见[安全编码]{.fc1}。如果我们希望写出完美的代码，只需记住其中的上千个简单示例。
:::

::: {.t .m0 .x1 .h3 .y1b7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
参见来自Inria（法国国家信息与自动化研究所）的Jens
Gustedt编写的[现代C语言]{.fc1}。
:::

::: {.t .m0 .x1 .h3 .y1b8 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
对于C11对Unicode支持的细节，参见[理解C/C++中的字符/字符串字面量]{.fc1}
:::

::: {.t .m0 .x1 .ha .y1b9 .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
结尾
:::

::: {.t .m0 .x1 .h3 .y1ba .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
大规模的编写正确的代码基本上是不可能的。我们有多种操作系统、运行时环境、程序库和
:::

::: {.t .m0 .x1 .h3 .y1bb .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
硬件平台需要考虑，更不用说小概率的内存随机位反转、块设备故障等。
:::

::: {.t .m0 .x1 .h3 .y1bc .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
我们能做最好的是编写简单易懂的代码，尽可能减少间接代码和未注释的魔术代码。
:::

::: {.t .m0 .x1 .h3 .y1bd .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
-Matt --- [\@mattsta]{.fc1} --- [☁[mattsta]{.ff1}]{.ff4 .fc1}
:::

::: {.t .m0 .x1 .ha .y1be .ff1 .fs3 .fc2 .sc0 .ls0 .ws0}
归属
:::

::: {.t .m0 .x1 .h3 .y1bf .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
本文在twitter和Hacker
News上都有讨论，因此需要读者都有帮忙，指出瑕疵或有偏见的想
:::

::: {.t .m0 .x1 .h3 .y1c0 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
法，我在此公布一下。
:::

::: {.t .m0 .x1 .h3 .y1c1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
首先，Jeremy Faller、[Sos Sosowski]{.fc1}、Martin
Heistermann和其他一些读者很友好的指出
:::

::: {.t .m0 .x1 .h3 .y1c2 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
文中[memset()]{.ff3}示例的问题，并且给予修正。
:::

::: {.t .m0 .x1 .h3 .y1c3 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Martin Heistermann同时指出[localThing =
localThingNull]{.ff3}示例也存在问题。
:::

::: {.t .m0 .x1 .h3 .y1c4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
文章开头关于C语言能不用就不用的引用，来自聪明的互联网智者[\@badboy\_]{.fc1}。
:::

::: {.t .m0 .x1 .h3 .y1c5 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Remi Gacogne[指出我忘了[-Wextra]{.ff3}参数。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1c6 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Levi
Pearson[指出gcc-5默认使用gnu11标准，而不是c89标准，同时澄清了clang的默认标]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1c7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
准。
:::

::: {.t .m0 .x1 .h3 .y1c8 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Christopher[指出[-O2]{.ff3}和[-O3]{.ff3}对比章节应该更加清晰。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1c9 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Chad Miller[指出我在处理clang-format脚本参数时偷懒了。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1ca .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
许多[读者指出关于[calloc()]{.ff3}的建议不总是好主意，如果使用场景是极端情况下或者非标准硬]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1cb .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
件（是坏主意的示例：大内存分配、嵌入式设备上的内存分配、在30年前的老硬件上内存分
:::

::: {.t .m0 .x1 .h3 .y1cc .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
配等）。
:::

::: {.t .m0 .x1 .h3 .y1cd .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Charles Randolph指出"Building（构建）"这个词有拼写错误。
:::

::: {.t .m0 .x1 .h3 .y1ce .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Sven Neuhaus友善的指出我也没有拼写"initialization（初始
:::

::: {.t .m0 .x1 .h3 .y1cf .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
化）"和"initializers（初始设置）"的能力。（并且也指出我在这里第一次也拼错
:::

::: {.t .m0 .x1 .h3 .y1d0 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
了"initialization"这个单词）
:::

::: {.t .m0 .x1 .h3 .y1d1 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Colm MacCárthaigh[指出我忘记提及[\#pragma once]{.ff3}。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1d2 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Jeffrey Yasskin[指出我们也应该禁止严格别名（主要针对gcc的优化）。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1d3 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Jeffery Yasskin同时为[-fno-strict-aliasing]{.ff3}章节提供了更好的措辞。
:::
:::

[](https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=4374){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:80.015129px;bottom:775.491210px;width:90.795751px;height:12.006840px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.viva64.com/en/a/0050/){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:80.015129px;bottom:733.470700px;width:102.801811px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://www.securecoding.cert.org/confluence/display/c/SEI+CERT+C+Coding+Standard){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:80.015129px;bottom:712.459960px;width:48.774574px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://icube-icps.unistra.fr/img_auth.php/d/db/ModernC.pdf){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:436.444760px;bottom:691.449220px;width:54.777620px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.dotslashzero.net/2014/08/22/understanding-characterstring-literals-in-cc/){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:249.600600px;bottom:670.438480px;width:180.841140px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/mattsta){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:110.030258px;bottom:555.630860px;width:48.774582px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://github.com/mattsta){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:182.816940px;bottom:555.630860px;width:52.526470px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/Sosowski/status/685431663501926400){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:182.816940px;bottom:461.833980px;width:72.786680px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/badboy_){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:400.426610px;bottom:398.801760px;width:48.024200px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/rgacogne/status/685390620723154944){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:377.791020px;width:72.786678px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/pineal_servo/status/685393454487056384){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:356.780270px;width:72.786678px;height:12.006840px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/shrydar/status/685375992114757632){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:314.759770px;width:66.783657px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/chadmiller/status/685469896914919424){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:293.749020px;width:66.783657px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/lordcyphar/status/685444198481412096){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:272.738280px;width:24.012104px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/colmmacc/status/685493166988906497){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:125.664063px;width:102.801815px;height:12.005859px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/jyasskin/status/685493531515826176){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:104.653320px;width:90.795773px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pff .pf .w0 .h0 page-no="f"}
::: {.pc .pcf .w0 .h0}
![](data:image/png;base64,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AAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgmwAAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAIBnjJ1DVctSPJJMI1yTXwbfDgDe8g+bxAoAANCER1wAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgW4CAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABA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){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .y170 .w1 .he}
::: {.t .m0 .x1 .h3 .y1d4 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Chris
Palmer[和其他一些读者指出calloc相比于malloc参数上的优势，编写一个[calloc()]{.ff3}的]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1d5 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
包装的整体缺点，因为[calloc()]{.ff3}相比于[malloc()]{.ff3}提供了更加安全的接口。
:::

::: {.t .m0 .x1 .h3 .y1d6 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Damien
Sorresso指出我们应该提醒读者针对[calloc()]{.ff3}请求获取的初始化置零内存调用
:::

::: {.t .m0 .x1 .h3 .y1d7 .ff3 .fs0 .fc0 .sc0 .ls0 .ws0}
realloc()[不会将增长的内存置零。]{.ff1}
:::

::: {.t .m0 .x1 .h3 .y1d8 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Pat Pogson指出我也没有正确拼写"declare（定义）"单词的能力。
:::

::: {.t .m0 .x1 .h3 .y1d9 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
\@TopShibe[指出栈分配初始化示例是错误的，因为我提供的这个示例是全局变量。将措辞修]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1da .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
改成了"自动分配内存"，以表示栈或数据段。
:::

::: {.t .m0 .x1 .h3 .y1db .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Jonathan
Grynspan[建议在变长数组（VLA）示例前后增加更严厉的措辞，因为变长数组误用]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1dc .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
时是危险的。
:::

::: {.t .m0 .x1 .h3 .y1dd .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
David O\'Mahony友善的指出"specify（指定）"单词拼写错误。
:::

::: {.t .m0 .x1 .h3 .y1de .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
David Alan
Gilbert博士指出[ssize\_t]{.ff3}是POSIX行为，Windows平台要么没有定义，要么被定
:::

::: {.t .m0 .x1 .h3 .y1df .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
义成无符号类型，这明显会引入各种有趣的行为，因为该类型在POSIX平台是有符号类型，
:::

::: {.t .m0 .x1 .h3 .y1e0 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
而Windows平台上是无符号的。
:::

::: {.t .m0 .x1 .h3 .y1e1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Chris
Ridd建议我们明确说明C99是1999年以后定义的，而C11是2011年定义的，否则说11比
:::

::: {.t .m0 .x1 .h3 .y1e2 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
99新看起来很奇怪。
:::

::: {.t .m0 .x1 .h3 .y1e3 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Chris
Ridd同时注意到[clang-format]{.ff3}示例使用了不清晰的命名约定，并且建议跨示例的命名
:::

::: {.t .m0 .x1 .h3 .y1e4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
一致性。
:::

::: {.t .m0 .x1 .h3 .y1e5 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Anthony Le Goff[指出有一份名为]{.fc0}Modern
C[的文档提供了书籍长度的现代C思想。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1e6 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Stuart
Popejoy指出我对"deliberately（故意）"单词的拼写错误是真的拼写错误。
:::

::: {.t .m0 .x1 .h3 .y1e7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Jack
Rosen指出我使用了"exists（存在）"但是实际想表示的是"exits（退出）"。
:::

::: {.t .m0 .x1 .h3 .y1e8 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Jo
Booth指出我将"compatibility（兼容性）"拼成了"compatability"，看上去更加有
:::

::: {.t .m0 .x1 .h3 .y1e9 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
逻辑，但是英国公民（English commonality）不同意。
:::

::: {.t .m0 .x1 .h3 .y1ea .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Stephen Anderson将我拼错的"stil"改正成"still"。
:::

::: {.t .m0 .x1 .h3 .y1eb .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Richard
Weinberger指出使用[{0}]{.ff3}语法初始化结构体，不会将填充字节置零，因此将[{0}]{.ff3}结构
:::

::: {.t .m0 .x1 .h3 .y1ec .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
体通过网络传输在特定结构体下可能会无意泄漏一些字节。
:::

::: {.t .m0 .x1 .h3 .y1ed .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
\@JayBhukhanwala[指出]{.fc0}返回值类型[章节中的函数注释不准确，因为当代码变化时，没有更新]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1ee .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
注释（很像我们生活中的故事吧？）
:::

::: {.t .m0 .x1 .h3 .y1ef .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Lorenzo指出在[参数类型]{.fc1}章节中，我们应该对潜在的跨平台对齐问题提供明确的警告。
:::

::: {.t .m0 .x1 .h3 .y1f0 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Paolo G.
Giarrusso[重新明确了我之前为示例添加的对齐警告，并给予了更加正确的提示。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1f1 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Fabian
Klötzl提供了有效的结构体复合字面量赋值示例，它完美的语法，我之前没有遇见
:::

::: {.t .m0 .x1 .h3 .y1f2 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
过。
:::

::: {.t .m0 .x1 .h3 .y1f3 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Omkar Ekbote提供了拼写错误和一致性问题的全面走查，包括"platform（平
:::

::: {.t .m0 .x1 .h3 .y1f4 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
台）"、"actually（事实上）"、"defining（定义）"、"experience（经
:::

::: {.t .m0 .x1 .h3 .y1f5 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
验）"、"simultaneously（同时）"、"readability（可读性）"等，同时标注了其他
:::

::: {.t .m0 .x1 .h3 .y1f6 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
一些含糊的措辞。
:::
:::

[](https://twitter.com/fugueish/status/685503534230458369){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:775.492190px;width:72.786678px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/TopShibe/status/685505183762223105){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:670.439450px;width:54.027233px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/grynspan/status/685509158024691712){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:628.417970px;width:102.801815px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/Ideo_logiq/status/685384708188930048){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:418.311520px;width:90.795773px;height:12.006840px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://icube-icps.unistra.fr/img_auth.php/d/db/ModernC.pdf){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:230.841140px;bottom:418.311520px;width:48.774580px;height:12.006840px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/JayBhukhanwala){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:250.227540px;width:90.795773px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://www.zybuluo.com/babydragon/note/265885#_return-parameter-types){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:170.810880px;bottom:250.227540px;width:60.030260px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://www.zybuluo.com/babydragon/note/265885#_parameter-types){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:134.792725px;bottom:208.206050px;width:48.024215px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/Blaisorblade/status/686042231917178881){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:187.195310px;width:108.804836px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf10 .pf .w0 .h0 page-no="10"}
::: {.pc .pc10 .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAXLCAIAAAAz/kHlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAcwUlEQVR42uzdsWsUaRjA4f3uJly2uJhZjoOcgu4uQhAiObjKYo8LFgERFMHKwlpb/xZrKyuFaAhYJTBF/gDBJU02KcViJ10a9b02Zg8vYszMZp6n/AhJ5s2b+HOZTFJEtAAAgHr4yQgAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAD4EbKTvFFKpUnxPSJyQ/BdBvgBC5yoCiLCFAAAoCbc4gIAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAADqJTMCaJqUSkM4GxG5IQDwzf9SR4QpAABATbjFBQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoRgAAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKAbAQAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAADCtspO8UUqlSfGjReSGAACQIsIUAACgJtziAgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCA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){.bi
.x0 .y0 .w1 .h1}

::: {.c .x0 .yc9 .w1 .hd}
::: {.t .m0 .x1 .h3 .y1f7 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Carlo Bellettini修正了我对"aberrant（错误的）"单词错误的拼写。
:::

::: {.t .m0 .x1 .h3 .y1f8 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
Keith S Thompson[在其巨著]{.fc0}C如何回应（How to C
Response）[中提供了很多技术更正。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y1f9 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
Marc
Bevand指出我们应该谈谈[inttypes.h]{.fc1}头文件中提供的[fprintf]{.ff3}类型描述符。
:::

::: {.t .m0 .x1 .h3 .y1fa .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
reddit上很多读者被激怒，因为本文最初被一些地方误"引用"。对不起，疯狂的读者，但
:::

::: {.t .m0 .x1 .h3 .y1fb .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
是本文刚开始被公开时是一篇几年前未经编辑、未经审核的旧草稿。这些错误已经修正。
:::

::: {.t .m0 .x1 .h3 .y1fc .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
一些读者同时指出静态初始化示例使用全局变量，这样可以在让变量总是初始化成零（事实
:::

::: {.t .m0 .x1 .h3 .y1fd .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
上它们都没有初始化，只是被静态分配了内存）。在我看来这个示例是一个糟糕的选择，但
:::

::: {.t .m0 .x1 .h3 .y1fe .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
是想表达的概念仍然代表在函数作用域内典型的用法。这个示例是表示一些通用的"代码片
:::

::: {.t .m0 .x1 .h3 .y1ff .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
段"，而不代表必须使用全局变量。
:::

::: {.t .m0 .x1 .h3 .y200 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
一些读者将本文理解成"我讨厌C语言"，其实并不是这样。C语言用在错误的地方（没有足
:::

::: {.t .m0 .x1 .h3 .y201 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
够测试、大规模部署的时候没有足够的经验等）是危险的，因此自相矛盾的两类C语言开发
:::

::: {.t .m0 .x1 .h3 .y202 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
者应该只有新手爱好者（代码出现问题没有关系，它只是一个玩具）和希望测试到死的人
:::

::: {.t .m0 .x1 .h3 .y203 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
（代码出现问题会引起生命和财产损失，它不是一个玩具），他们应该在生产环境使用C语
:::

::: {.t .m0 .x1 .h3 .y204 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
言编写代码。对于"普通观察者进行C语言开发"的使用空间很小。对于其他开发者，这就
:::

::: {.t .m0 .x1 .h3 .y205 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
是为什么我们有Erlang语言。
:::

::: {.t .m0 .x1 .h3 .y206 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
许多读者还提到他们自己的疑问或者超出本文范围的问题（包括新的C11标准的特性，例如
:::

::: {.t .m0 .x1 .h3 .y207 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
George Makrydakis[提醒我们关于C11的属性推导能力）。]{.fc0}
:::

::: {.t .m0 .x1 .h3 .y208 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
或许另一篇关于"C语言实践"的文章将会覆盖测试、性能调优、性能追踪、可选但是有用
:::

::: {.t .m0 .x1 .h3 .y209 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
的警告级别等。
:::

::: {.t .m0 .x1 .h3 .y20a .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
查看英文原文：[How to C in 2016]{.fc1}
:::

::: {.t .m0 .x1 .h3 .y20b .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
感谢[魏星]{.fc1}对本文的审校。
:::

::: {.t .m0 .x1 .h3 .y20c .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
给InfoQ中文站投稿或者参与内容翻译工作，请邮件至[editors\@cn.infoq.com]{.fc1}。也欢迎大家
:::

::: {.t .m0 .x1 .h3 .y20d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
通过新浪微博（[\@InfoQ]{.fc1}，[\@丁晓昀]{.fc1}），微信（微信号：[InfoQChina]{.fc1}）关注我们。
:::

::: {.t .m0 .x1 .h3 .y20e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
【[QCon北京2016]{.fc1}】《七周七并发模型》作者Paul Butcher、前Oracle
G1垃圾收集器性能团
:::

::: {.t .m0 .x1 .h3 .y20f .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
队负责人Monica Beckwith、Druid项目联合发起人Fangjin
Yang、易宝集团CTO陈斌、阿里
:::

::: {.t .m0 .x1 .h3 .y210 .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
云研究员余锋（褚霸）等众多技术大咖也将聚首QCon，带来精彩分享。9折门票倒计时，[大]{.fc1}
:::

::: {.t .m0 .x1 .h3 .y211 .ff1 .fs0 .fc1 .sc0 .ls0 .ws0}
会日程请戳[。]{.fc0}
:::

::: {.t .m0 .x7 .hf .y212 .ff2 .fs5 .fc3 .sc0 .ls0 .ws0}
领域
:::

::: {.t .m0 .x7 .hf .y213 .ff2 .fs5 .fc4 .sc0 .ls0 .ws0}
架构&设计
:::

::: {.t .m0 .x7 .hf .y214 .ff2 .fs5 .fc4 .sc0 .ls0 .ws0}
语言&开发
:::

::: {.t .m0 .x7 .hf .y215 .ff2 .fs5 .fc3 .sc0 .ls0 .ws0}
专栏
:::

::: {.t .m0 .x7 .hf .y216 .ff2 .fs5 .fc4 .sc0 .ls0 .ws0}
语言
:::

::: {.t .m0 .x7 .hf .y217 .ff2 .fs5 .fc4 .sc0 .ls0 .ws0}
语言设计
:::

::: {.t .m0 .x7 .hf .y218 .ff2 .fs5 .fc4 .sc0 .ls0 .ws0}
语言&开发
:::

::: {.t .m0 .x1 .h10 .y219 .ff1 .fs6 .fc5 .sc0 .ls0 .ws0}
告诉我们您的想法
:::
:::

[](https://github.com/Keith-S-Thompson){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:754.480470px;width:96.798794px;height:12.006830px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://github.com/Keith-S-Thompson/how-to-c-response){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:200.826020px;bottom:754.480470px;width:181.591520px;height:12.006830px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/inttypes.h.html){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:218.835100px;bottom:733.469730px;width:60.780620px;height:12.006830px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://twitter.com/irrequietus/status/685407732464226306){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:439.322270px;width:102.801815px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](https://matt.sh/howto-c){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:140.795761px;bottom:376.290040px;width:96.048419px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.infoq.com/cn/author/%E9%AD%8F%E6%98%9F){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:80.015129px;bottom:355.279300px;width:24.012100px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.infoq.com/cn/articles/mailto:editors@cn.infoq.com){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:339.646000px;bottom:334.268550px;width:120.810880px;height:12.006840px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.weibo.com/infoqchina){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:140.795761px;bottom:313.258790px;width:36.018139px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://weibo.com/u/1451714913){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:188.819960px;bottom:313.258790px;width:42.021180px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://weixin.sogou.com/gzh?openid=oIWsFt0HnZ93MfLi3pW2ggVJFRxY){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:339.646000px;bottom:313.258790px;width:60.780610px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://2016.qconbeijing.com/?utm_source=article&utm_medium=infoq&utm_campaign=textads){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:68.009079px;bottom:292.248050px;width:72.786682px;height:12.005860px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://2016.qconbeijing.com/schedule?utm_source=infoq&utm_medium=textads){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:56.003025px;bottom:229.215820px;width:477.240505px;height:33.016600px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.infoq.com/cn/architecture-design){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:112.281387px;bottom:190.946290px;width:56.278363px;height:14.257810px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.infoq.com/cn/development){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:112.281387px;bottom:172.937500px;width:56.278363px;height:14.257810px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.infoq.com/cn/sdfa){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:112.281387px;bottom:136.919922px;width:20.260208px;height:14.256836px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.infoq.com/cn/design-language){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:112.281387px;bottom:118.910156px;width:41.270798px;height:14.257813px;background-color:rgba(255,255,255,0.000001);"}
:::

[](http://www.infoq.com/cn/language-development){.l}

::: {.d .m1 style="border-style:none;position:absolute;left:112.281387px;bottom:100.901367px;width:50.275345px;height:14.256836px;background-color:rgba(255,255,255,0.000001);"}
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::

::: {#pf11 .pf .w0 .h0 page-no="11"}
::: {.pc .pc11 .w0 .h0}
![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+AAAAD+CAIAAAA1cfhcAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFfklEQVR42u3dIU8bYRjA8esCGSfIepdguokxjoSapp+gISmmomJqEo/lQ2FISAm64kQ/AKHLzOUkmShIzLYXgSm9+bfJ/X7yce/lEX9xed9OCCEBAAC2wwefAAAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAAAIdAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAAINABAECgAwAAAh0AAAQ6AAAg0AEAQKADAAACHQAABDoAACDQAQBAoAMAAAIdAAAEOgAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAvLPTzmNXq7qsFzfLuyztTvuTcTHK0q5tAAAguk4IoW1nvn9cXswu1yd5mt2eX9kGAACia+MvLvOq3Jg8vTxXq9o2AAAg0CO4fpg1h2W9sA0AAAj0CI7yw+bw5ODYNgAAINAjmPYnzeGwN7ANAAAI9AjGxShPs/XJWXGa7u7ZBgAAomvjLS5v3m5a3P+4745FAAAEOgAA8B9eEgUAAIEOAAAIdAAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAAQ6AAAIdAAAQKADAIBABwAABDoAAAh0AABAoAMAgEAHAAAEOgAACHQAAECgAwCAQAcAAAQ6AAAg0AEAYKvstPPY1aou68XN8u5b/vXH4PuwN0h392wDAADRdUIIbTvz/ePyYna5PsnT7Pb8yjYAABBdG39xmVflxuTp5bla1bYBAACBHsH1w6w5LOuFbQAAQKBHcJQfNocnB8e2AQAAgR7BtD9pDoe9gW0AAECgRzAuRhuTs+LULS4AAGyDNt7ikiTJn39/f/7+Na/KL58+j4tRlnatAgAAAh0AAHjHS6IAACDQAQAAgQ4AAAIdAAAQ6AAAINABAACBDgAAAh0AABDoAAAg0AEAAIEOAAACHQAAEOgAAIBABwAAgQ4AAAh0AAAQ6AAAgEAHAACBDgAACHQAABDoAACAQAcAAIEOAAAIdAAAEOgAAIBABwAAkuQVa4RjmVYaUTMAAAAASUVORK5CYII=){.bi
.x0 .y21a .w1 .h11}

::: {.c .x0 .yc9 .w1 .hd}
::: {.t .m0 .x1 .h10 .y21b .ff1 .fs6 .fc5 .sc0 .ls0 .ws0}
社区评论 [Watch Thread]{.fs7 .fc6}
:::

::: {.t .m0 .x1 .h12 .y21c .ff1 .fs5 .fc0 .sc0 .ls0 .ws0}
学过C语言的人说 by Wong Peter Posted 2016年4月1日 06:29
:::

::: {.t .m0 .x1 .h3 .y21d .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
学过C语言的人说2016年4月1日 06:29 by [Wong Peter]{.fc1}
:::

::: {.t .m0 .x1 .h3 .y21e .ff1 .fs0 .fc0 .sc0 .ls0 .ws0}
已经面目全非，完全不认识了。
:::

::: {.t .m0 .x7 .hf .y21f .ff2 .fs5 .fc7 .sc0 .ls0 .ws0}
回复
:::

::: {.t .m0 .x7 .hf .y220 .ff2 .fs5 .fc7 .sc0 .ls0 .ws0}
回到顶部
:::
:::
:::

::: {.pi data="{\"ctm\":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}"}
:::
:::
:::

::: {.loading-indicator}
![](data:image/png;base64,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)
:::
